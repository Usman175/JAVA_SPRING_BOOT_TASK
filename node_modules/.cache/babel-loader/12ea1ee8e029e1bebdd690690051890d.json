{"ast":null,"code":"var _jsxFileName = \"/var/www/php74/bearolefrontend/src/container/freelancer/offers/offerDetail.jsx\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport moment from \"moment\";\nimport request from \"../../../utils/request\";\nimport { ENDPOINT } from \"../../../utils/endpoint\";\nimport { getOptions, postOptions } from \"../../../utils/httpConfig\";\nimport { onReduxRouteChange } from \"../../../store/action/action\";\nimport RightTop from \"../../../components/rightbar/rightTop\";\nimport RightBottom from \"../../../components/rightbar/rightBottom\";\nimport UserCard from \"../../../components/proposals/userCard\";\nimport Modal from \"react-bootstrap/Modal\";\nimport notifications from \"../../../utils/notifications\";\n\nclass OfferDetail extends Component {\n  constructor(props) {\n    var _props$authUser, _props$authUser$myAut, _props$authUser$myAut2;\n\n    super(props);\n\n    this.onAcceptOfferHandle = async redirectTo => {\n      let param = {\n        projectContractId: this.state.projectId,\n        freelancerUserId: this.state.userId\n      };\n      let result = await request(ENDPOINT[\"AcceptOffer\"], postOptions(param));\n\n      if (result.success) {\n        this.props.onRouteChange(redirectTo);\n        this.props.history.push(redirectTo);\n      } else notifications.showError(result.message);\n\n      return;\n    };\n\n    this.handleDeclineOfferValidation = () => {\n      let {\n        languageType\n      } = this.props;\n      let errorMessage = {};\n      let formIsValid = true;\n\n      if (this.state.declinedReason === null || this.state.declinedReason === \"\" || this.state.declinedReason === undefined) {\n        formIsValid = false;\n        errorMessage[\"declinedReason\"] = languageType.REQUIRED_MESSAGE;\n      }\n\n      this.setState({\n        errorMessage: errorMessage\n      });\n      return formIsValid;\n    };\n\n    this.onDeclineOfferHandle = async redirectTo => {\n      if (this.handleDeclineOfferValidation()) {\n        let param = {\n          projectContractId: this.state.projectId,\n          freelancerUserId: this.state.userId\n        };\n        let result = await request(ENDPOINT[\"OfferDecline\"], postOptions(param));\n\n        if (result.success) {\n          this.props.onRouteChange(redirectTo);\n          this.props.history.push(redirectTo);\n        } else notifications.showError(result.message);\n      } else return;\n    };\n\n    this.state = {\n      userId: (_props$authUser = props.authUser) === null || _props$authUser === void 0 ? void 0 : (_props$authUser$myAut = _props$authUser.myAuth) === null || _props$authUser$myAut === void 0 ? void 0 : (_props$authUser$myAut2 = _props$authUser$myAut.user) === null || _props$authUser$myAut2 === void 0 ? void 0 : _props$authUser$myAut2.userId,\n      projectId: new URLSearchParams(this.props.location.search).get(\"projectId\"),\n      offerDetail: {},\n      isOfferDeclineModelOpen: false,\n      declinedReason: \"\",\n      errorMessage: {},\n      sendOfferDetails: {}\n    };\n  }\n\n  componentWillMount() {\n    this.bindOfferDetail();\n  }\n\n  async bindOfferDetail() {\n    let result = await request(`${ENDPOINT[\"GetProjectContractDetail\"]}?projectContractId=` + this.state.projectId\n    /* + \"&freelancerUserId=\" + this.state.userId */\n    , getOptions({}));\n\n    if (result.success) {\n      console.log(result, \"result\");\n\n      if (result.result && result.result.data !== null && result.result.data !== \"\") {\n        let offerResponse = result.result;\n        if (offerResponse.hasOwnProperty(\"offerDateTime\")) offerResponse.offerDateTime = moment(offerResponse.offerDateTime).format(\"DD-MMM-YYYY hh:mm a\");\n        if (offerResponse.hasOwnProperty(\"offerClosedDateTime\")) offerResponse.offerClosedDateTime = moment(offerResponse.offerClosedDateTime).format(\"DD-MMM-YYYY hh:mm a\");\n        if (offerResponse.hasOwnProperty(\"finalizedDateTime\")) offerResponse.finalizedDateTime = offerResponse.finalizedDateTime !== null && offerResponse.finalizedDateTime !== \"\" ? moment(offerResponse.finalizedDateTime).format(\"DD-MMM-YYYY hh:mm a\") : \"\";\n        if (offerResponse.hasOwnProperty(\"declinedDateTime\")) offerResponse.declinedDateTime = offerResponse.declinedDateTime !== null && offerResponse.declinedDateTime !== \"\" ? moment(offerResponse.declinedDateTime).format(\"DD-MMM-YYYY hh:mm a\") : \"\";\n\n        if (offerResponse.hasOwnProperty(\"milestones\")) {\n          var milestones = offerResponse.milestones;\n\n          if (milestones !== null) {\n            for (var i = 0; i < milestones.length; i++) {\n              if (milestones[i].hasOwnProperty(\"milestoneDueDate\")) milestones[i].milestoneDueDate = milestones[i].milestoneDueDate !== null && milestones[i].milestoneDueDate !== \"\" ? moment(milestones[i].milestoneDueDate).format(\"DD-MMM-YYYY\") : \"\";\n            }\n          }\n\n          offerResponse.milestones = milestones !== null ? milestones : [];\n        }\n\n        this.setState({\n          offerDetail: offerResponse,\n          sendOfferDetails: result.result.data\n        });\n      } else this.props.history.push(\"/my-offers\");\n    }\n  } //#endregion Bind Contest Detail\n  //#region Accept Offer\n\n\n  handleDeclineOfferValidation() {\n    let {\n      languageType\n    } = this.props;\n    let errorMessage = {};\n    let formIsValid = true;\n\n    if (this.state.declinedReason === null || this.state.declinedReason === \"\" || this.state.declinedReason === undefined) {\n      formIsValid = false;\n      errorMessage[\"declinedReason\"] = languageType.REQUIRED_MESSAGE;\n    }\n\n    this.setState({\n      errorMessage: errorMessage\n    });\n    return formIsValid;\n  }\n\n  render() {\n    let {\n      offerDetail\n    } = this.state;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"section\", {\n      className: \"card_sec\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"bcknd_container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-2 col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(UserCard, {\n      userObj: offerDetail,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card_box\",\n      style: {\n        padding: \"20px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn save_btn\",\n      style: {\n        marginBottom: \"15px\",\n        width: \"100%\"\n      },\n      onClick: () => this.onAcceptOfferHandle(\"/my-offers\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 23\n      }\n    }, \" \", \"Accept Offer\", \" \"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn cancel_btn\",\n      style: {\n        marginBottom: \"15px\",\n        width: \"100%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 23\n      }\n    }, \" \", \"Message\", \" \"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn save_btn\",\n      style: {\n        marginBottom: \"15px\",\n        width: \"100%\"\n      },\n      onClick: () => {\n        this.setState({\n          isOfferDeclineModelOpen: true,\n          declinedReason: \"\"\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 23\n      }\n    }, \" \", \"Decline Offer\", \" \"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn save_btn\",\n      style: {\n        width: \"100%\"\n      },\n      onClick: () => this.props.history.push(\"/project-proposal-detail?id=\" + this.state.projectId),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 23\n      }\n    }, \" \", \"Original Proposal\", \" \"))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-8 col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card_box\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row align-items-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex mt-3 col-12 pl-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"pr-2 py-2 h6 text-muted font-weight-bold\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 23\n      }\n    }, offerDetail.projectType), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"p-2 h6 text-muted font-weight-bold\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 23\n      }\n    }, offerDetail.projectScope)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"border-bottom col-12 tab-container text-muted\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tab-value bg-warning text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 23\n      }\n    }, \"Contract Title\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tab-value\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 23\n      }\n    }, offerDetail.jobTitle)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"border-bottom col-12 tab-container text-muted\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tab-value bg-warning text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 23\n      }\n    }, \"Job Category\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tab-value\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 23\n      }\n    }, offerDetail.projectScope)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"border-bottom col-12 tab-container text-muted\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tab-value bg-warning text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 23\n      }\n    }, \"Project Budget\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tab-value\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 23\n      }\n    }, offerDetail.currencyCode, \" \", offerDetail.projectAmount)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"border-bottom col-12 tab-container text-muted\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tab-value bg-warning text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 23\n      }\n    }, \"Offer Amount\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tab-value\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 23\n      }\n    }, offerDetail.currencyCode, \" \", offerDetail.offerAmount)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"border-bottom col-12 tab-container text-muted\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tab-value bg-warning text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 23\n      }\n    }, \"Offer Date Time\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tab-value\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 23\n      }\n    }, offerDetail.offerDateTime)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"border-bottom col-12 tab-container text-muted\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tab-value bg-warning text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 23\n      }\n    }, \"Offer Closed Date Time\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tab-value\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 23\n      }\n    }, offerDetail.offerClosedDateTime)), offerDetail.milestones && offerDetail.milestones.length > 0 && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex mt-3 col-12 pl-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"pr-2 py-2 h6 text-muted font-weight-bold\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 29\n      }\n    }, \"Project Milestones:\")), offerDetail.milestones.map((milestone, index) => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      key: `milestoneDescription${index}`,\n      className: \"border-bottom col-12 tab-container text-muted\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 31\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tab-value bg-warning text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 33\n      }\n    }, \"Milestone Description\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tab-value\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 33\n      }\n    }, milestone.milestoneDescription)), /*#__PURE__*/React.createElement(\"div\", {\n      key: `milestoneDetail${index}`,\n      className: \"border-bottom col-12 tab-container text-muted mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 31\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tab-value bg-warning text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 33\n      }\n    }, \"Milestone Amount\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tab-value\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 33\n      }\n    }, offerDetail.currencyCode, \" \", milestone.milestoneAmount), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tab-value bg-warning text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 33\n      }\n    }, \"Milestone Due Date\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tab-value\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 33\n      }\n    }, milestone.milestoneDueDate)))))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-2 col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(RightTop, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(RightBottom, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 17\n      }\n    }))))), /*#__PURE__*/React.createElement(Modal, {\n      dialogClassName: \"jungle-modal\",\n      contentClassName: \"jungle-modal-content lg\",\n      show: this.state.isOfferDeclineModelOpen,\n      onHide: () => {\n        this.setState({\n          isOfferDeclineModelOpen: false\n        });\n      },\n      centererd: true,\n      size: \"lg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Header, {\n      className: \"position-relative jungle-modal-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"https://dxnqsgisijbjj.cloudfront.net/jungleworks/image/renew-jungleworks-logo.png\",\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"position-absolute\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 13\n      }\n    }, \"Decline Proposal\"), /*#__PURE__*/React.createElement(\"span\", {\n      onClick: () => {\n        this.setState({\n          isOfferDeclineModelOpen: false\n        });\n      },\n      className: \"custom-close\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 13\n      }\n    }, \" \", \"x\", \" \")), /*#__PURE__*/React.createElement(Modal.Body, {\n      style: {\n        maxHeight: \"887px\",\n        overflow: \"auto\",\n        padding: \"0px 0px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mt-4 mb-3 mx-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row justify-content-between align-items-center mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 left_card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h6\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 19\n      }\n    }, \"Declined Reason\", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"compulsory\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 379,\n        columnNumber: 36\n      }\n    }, \"*\")), /*#__PURE__*/React.createElement(\"textarea\", {\n      className: \"form-control\",\n      placeholder: \"Message\",\n      name: \"declinedReason\",\n      value: this.state.declinedReason,\n      onChange: e => {\n        let errorMessage = {};\n        this.setState({\n          declinedReason: e.target.value\n        });\n        if (this.state.declinedReason !== undefined && this.state.declinedReason !== null && this.state.declinedReason !== \"\") errorMessage[\"declinedReason\"] = null;\n        this.setState({\n          errorMessage: errorMessage\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 381,\n        columnNumber: 19\n      }\n    }), this.state.errorMessage.declinedReason && /*#__PURE__*/React.createElement(\"p\", {\n      className: \"text-danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 399,\n        columnNumber: 21\n      }\n    }, this.state.errorMessage.declinedReason))))), /*#__PURE__*/React.createElement(Modal.Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 407,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: () => {\n        this.setState({\n          isOfferDeclineModelOpen: false\n        });\n      },\n      className: \"btn cancel_btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 408,\n        columnNumber: 13\n      }\n    }, \"Cancel\"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: () => this.onDeclineOfferHandle(\"/my-offers\"),\n      className: \"btn save_btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 417,\n        columnNumber: 13\n      }\n    }, \" \", \"Decline Proposal\", \" \"))));\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    languageType: state.languageReducer.languageType,\n    language: state.languageReducer.language,\n    activeRoute: state.routeStore.activeRoute,\n    authUser: state.authReducer\n  };\n}\n\nfunction mapDispatchProps(dispatch) {\n  return {\n    onRouteChange: activeRoute => {\n      dispatch(onReduxRouteChange(activeRoute));\n    }\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchProps)(OfferDetail);","map":{"version":3,"sources":["/var/www/php74/bearolefrontend/src/container/freelancer/offers/offerDetail.jsx"],"names":["React","Component","connect","moment","request","ENDPOINT","getOptions","postOptions","onReduxRouteChange","RightTop","RightBottom","UserCard","Modal","notifications","OfferDetail","constructor","props","onAcceptOfferHandle","redirectTo","param","projectContractId","state","projectId","freelancerUserId","userId","result","success","onRouteChange","history","push","showError","message","handleDeclineOfferValidation","languageType","errorMessage","formIsValid","declinedReason","undefined","REQUIRED_MESSAGE","setState","onDeclineOfferHandle","authUser","myAuth","user","URLSearchParams","location","search","get","offerDetail","isOfferDeclineModelOpen","sendOfferDetails","componentWillMount","bindOfferDetail","console","log","data","offerResponse","hasOwnProperty","offerDateTime","format","offerClosedDateTime","finalizedDateTime","declinedDateTime","milestones","i","length","milestoneDueDate","render","padding","marginBottom","width","projectType","projectScope","jobTitle","currencyCode","projectAmount","offerAmount","map","milestone","index","milestoneDescription","milestoneAmount","maxHeight","overflow","e","target","value","mapStateToProps","languageReducer","language","activeRoute","routeStore","authReducer","mapDispatchProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport moment from \"moment\";\nimport request from \"../../../utils/request\";\nimport { ENDPOINT } from \"../../../utils/endpoint\";\nimport { getOptions, postOptions } from \"../../../utils/httpConfig\";\nimport { onReduxRouteChange } from \"../../../store/action/action\";\nimport RightTop from \"../../../components/rightbar/rightTop\";\nimport RightBottom from \"../../../components/rightbar/rightBottom\";\nimport UserCard from \"../../../components/proposals/userCard\";\nimport Modal from \"react-bootstrap/Modal\";\nimport notifications from \"../../../utils/notifications\";\n\nclass OfferDetail extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      userId: props.authUser?.myAuth?.user?.userId,\n      projectId: new URLSearchParams(this.props.location.search).get(\n        \"projectId\"\n      ),\n      offerDetail: {},\n      isOfferDeclineModelOpen: false,\n      declinedReason: \"\",\n      errorMessage: {},\n      sendOfferDetails: {},\n    };\n  }\n\n  componentWillMount() {\n    this.bindOfferDetail();\n  }\n\n  async bindOfferDetail() {\n    let result = await request(\n      `${ENDPOINT[\"GetProjectContractDetail\"]}?projectContractId=` +\n        this.state.projectId /* + \"&freelancerUserId=\" + this.state.userId */,\n      getOptions({})\n    );\n    if (result.success) {\n      console.log(result, \"result\");\n      if (\n        result.result &&\n        result.result.data !== null &&\n        result.result.data !== \"\"\n      ) {\n        let offerResponse = result.result;\n        if (offerResponse.hasOwnProperty(\"offerDateTime\"))\n          offerResponse.offerDateTime = moment(\n            offerResponse.offerDateTime\n          ).format(\"DD-MMM-YYYY hh:mm a\");\n        if (offerResponse.hasOwnProperty(\"offerClosedDateTime\"))\n          offerResponse.offerClosedDateTime = moment(\n            offerResponse.offerClosedDateTime\n          ).format(\"DD-MMM-YYYY hh:mm a\");\n        if (offerResponse.hasOwnProperty(\"finalizedDateTime\"))\n          offerResponse.finalizedDateTime =\n            offerResponse.finalizedDateTime !== null &&\n            offerResponse.finalizedDateTime !== \"\"\n              ? moment(offerResponse.finalizedDateTime).format(\n                  \"DD-MMM-YYYY hh:mm a\"\n                )\n              : \"\";\n        if (offerResponse.hasOwnProperty(\"declinedDateTime\"))\n          offerResponse.declinedDateTime =\n            offerResponse.declinedDateTime !== null &&\n            offerResponse.declinedDateTime !== \"\"\n              ? moment(offerResponse.declinedDateTime).format(\n                  \"DD-MMM-YYYY hh:mm a\"\n                )\n              : \"\";\n\n        if (offerResponse.hasOwnProperty(\"milestones\")) {\n          var milestones = offerResponse.milestones;\n          if (milestones !== null) {\n            for (var i = 0; i < milestones.length; i++) {\n              if (milestones[i].hasOwnProperty(\"milestoneDueDate\"))\n                milestones[i].milestoneDueDate =\n                  milestones[i].milestoneDueDate !== null &&\n                  milestones[i].milestoneDueDate !== \"\"\n                    ? moment(milestones[i].milestoneDueDate).format(\n                        \"DD-MMM-YYYY\"\n                      )\n                    : \"\";\n            }\n          }\n          offerResponse.milestones = milestones !== null ? milestones : [];\n        }\n\n        this.setState({\n          offerDetail: offerResponse,\n          sendOfferDetails: result.result.data,\n        });\n      } else this.props.history.push(\"/my-offers\");\n    }\n  }\n  //#endregion Bind Contest Detail\n\n  //#region Accept Offer\n  handleDeclineOfferValidation() {\n    let { languageType } = this.props;\n    let errorMessage = {};\n    let formIsValid = true;\n\n    if (\n      this.state.declinedReason === null ||\n      this.state.declinedReason === \"\" ||\n      this.state.declinedReason === undefined\n    ) {\n      formIsValid = false;\n      errorMessage[\"declinedReason\"] = languageType.REQUIRED_MESSAGE;\n    }\n\n    this.setState({ errorMessage: errorMessage });\n    return formIsValid;\n  }\n\n  onAcceptOfferHandle = async (redirectTo) => {\n    let param = {\n      projectContractId: this.state.projectId,\n      freelancerUserId: this.state.userId,\n    };\n    let result = await request(ENDPOINT[\"AcceptOffer\"], postOptions(param));\n    if (result.success) {\n      this.props.onRouteChange(redirectTo);\n      this.props.history.push(redirectTo);\n    } else notifications.showError(result.message);\n\n    return;\n  };\n  //#endregion Accept Offer\n\n  //#region Decline Offer\n  handleDeclineOfferValidation = () => {\n    let { languageType } = this.props;\n    let errorMessage = {};\n    let formIsValid = true;\n\n    if (\n      this.state.declinedReason === null ||\n      this.state.declinedReason === \"\" ||\n      this.state.declinedReason === undefined\n    ) {\n      formIsValid = false;\n      errorMessage[\"declinedReason\"] = languageType.REQUIRED_MESSAGE;\n    }\n\n    this.setState({ errorMessage: errorMessage });\n    return formIsValid;\n  };\n\n  onDeclineOfferHandle = async (redirectTo) => {\n    if (this.handleDeclineOfferValidation()) {\n      let param = {\n        projectContractId: this.state.projectId,\n        freelancerUserId: this.state.userId,\n      };\n      let result = await request(ENDPOINT[\"OfferDecline\"], postOptions(param));\n      if (result.success) {\n        this.props.onRouteChange(redirectTo);\n        this.props.history.push(redirectTo);\n      } else notifications.showError(result.message);\n    } else return;\n  };\n\n  render() {\n    let { offerDetail } = this.state;\n\n    return (\n      <>\n        <section className=\"card_sec\">\n          <div className=\"bcknd_container\">\n            <div className=\"row\">\n              <div className=\"col-lg-2 col-md-12\">\n                <div className=\"row\">\n                  <div className=\"col-lg-12 col-md-6\">\n                    <UserCard userObj={offerDetail} />\n                  </div>\n                  <div className=\"col-lg-12 col-md-6\">\n                    <div className=\"card_box\" style={{ padding: \"20px\" }}>\n                      <button\n                        type=\"button\"\n                        className=\"btn save_btn\"\n                        style={{ marginBottom: \"15px\", width: \"100%\" }}\n                        onClick={() => this.onAcceptOfferHandle(\"/my-offers\")}\n                      >\n                        {\" \"}\n                        Accept Offer{\" \"}\n                      </button>\n                      <br />\n                      <button\n                        type=\"button\"\n                        className=\"btn cancel_btn\"\n                        style={{ marginBottom: \"15px\", width: \"100%\" }}\n                      >\n                        {\" \"}\n                        Message{\" \"}\n                      </button>\n                      <br />\n                      <button\n                        type=\"button\"\n                        className=\"btn save_btn\"\n                        style={{ marginBottom: \"15px\", width: \"100%\" }}\n                        onClick={() => {\n                          this.setState({\n                            isOfferDeclineModelOpen: true,\n                            declinedReason: \"\",\n                          });\n                        }}\n                      >\n                        {\" \"}\n                        Decline Offer{\" \"}\n                      </button>\n                      <br />\n                      <button\n                        type=\"button\"\n                        className=\"btn save_btn\"\n                        style={{ width: \"100%\" }}\n                        onClick={() =>\n                          this.props.history.push(\n                            \"/project-proposal-detail?id=\" +\n                              this.state.projectId\n                          )\n                        }\n                      >\n                        {\" \"}\n                        Original Proposal{\" \"}\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div className=\"col-lg-8 col-md-12\">\n                <div className=\"card_box\">\n                  <div className=\"row align-items-center\">\n                    <div className=\"d-flex mt-3 col-12 pl-0\">\n                      <span className=\"pr-2 py-2 h6 text-muted font-weight-bold\">\n                        {offerDetail.projectType}\n                      </span>\n                      <span className=\"p-2 h6 text-muted font-weight-bold\">\n                        {offerDetail.projectScope}\n                      </span>\n                    </div>\n                    <div className=\"border-bottom col-12 tab-container text-muted\">\n                      <div className=\"tab-value bg-warning text-right\">\n                        Contract Title\n                      </div>\n                      <div className=\"tab-value\">{offerDetail.jobTitle}</div>\n                    </div>\n                    <div className=\"border-bottom col-12 tab-container text-muted\">\n                      <div className=\"tab-value bg-warning text-right\">\n                        Job Category\n                      </div>\n                      <div className=\"tab-value\">\n                        {offerDetail.projectScope}\n                      </div>\n                    </div>\n                    <div className=\"border-bottom col-12 tab-container text-muted\">\n                      <div className=\"tab-value bg-warning text-right\">\n                        Project Budget\n                      </div>\n                      <div className=\"tab-value\">\n                        {offerDetail.currencyCode} {offerDetail.projectAmount}\n                      </div>\n                    </div>\n                    <div className=\"border-bottom col-12 tab-container text-muted\">\n                      <div className=\"tab-value bg-warning text-right\">\n                        Offer Amount\n                      </div>\n                      <div className=\"tab-value\">\n                        {offerDetail.currencyCode} {offerDetail.offerAmount}\n                      </div>\n                    </div>\n                    <div className=\"border-bottom col-12 tab-container text-muted\">\n                      <div className=\"tab-value bg-warning text-right\">\n                        Offer Date Time\n                      </div>\n                      <div className=\"tab-value\">\n                        {offerDetail.offerDateTime}\n                      </div>\n                    </div>\n                    <div className=\"border-bottom col-12 tab-container text-muted\">\n                      <div className=\"tab-value bg-warning text-right\">\n                        Offer Closed Date Time\n                      </div>\n                      <div className=\"tab-value\">\n                        {offerDetail.offerClosedDateTime}\n                      </div>\n                    </div>\n\n                    {offerDetail.milestones &&\n                      offerDetail.milestones.length > 0 && (\n                        <>\n                          <div className=\"d-flex mt-3 col-12 pl-0\">\n                            <span className=\"pr-2 py-2 h6 text-muted font-weight-bold\">\n                              Project Milestones:\n                            </span>\n                          </div>\n                          {offerDetail.milestones.map((milestone, index) => (\n                            <>\n                              <div\n                                key={`milestoneDescription${index}`}\n                                className=\"border-bottom col-12 tab-container text-muted\"\n                              >\n                                <div className=\"tab-value bg-warning text-right\">\n                                  Milestone Description\n                                </div>\n                                <div className=\"tab-value\">\n                                  {milestone.milestoneDescription}\n                                </div>\n                              </div>\n                              <div\n                                key={`milestoneDetail${index}`}\n                                className=\"border-bottom col-12 tab-container text-muted mb-3\"\n                              >\n                                <div className=\"tab-value bg-warning text-right\">\n                                  Milestone Amount\n                                </div>\n                                <div className=\"tab-value\">\n                                  {offerDetail.currencyCode}{\" \"}\n                                  {milestone.milestoneAmount}\n                                </div>\n                                <div className=\"tab-value bg-warning text-right\">\n                                  Milestone Due Date\n                                </div>\n                                <div className=\"tab-value\">\n                                  {milestone.milestoneDueDate}\n                                </div>\n                              </div>\n                            </>\n                          ))}\n                        </>\n                      )}\n                  </div>\n                </div>\n              </div>\n              <div className=\"col-lg-2 col-md-12\">\n                <RightTop />\n                <RightBottom />\n              </div>\n            </div>\n          </div>\n        </section>\n\n        {/* Offer Decline Model*/}\n        <Modal\n          dialogClassName=\"jungle-modal\"\n          contentClassName=\"jungle-modal-content lg\"\n          show={this.state.isOfferDeclineModelOpen}\n          onHide={() => {\n            this.setState({ isOfferDeclineModelOpen: false });\n          }}\n          centererd\n          size=\"lg\"\n        >\n          <Modal.Header className=\"position-relative jungle-modal-header\">\n            <img\n              src=\"https://dxnqsgisijbjj.cloudfront.net/jungleworks/image/renew-jungleworks-logo.png\"\n              alt=\"\"\n            />\n            <span className=\"position-absolute\">Decline Proposal</span>\n            <span\n              onClick={() => {\n                this.setState({ isOfferDeclineModelOpen: false });\n              }}\n              className=\"custom-close\"\n            >\n              {\" \"}\n              x{\" \"}\n            </span>\n          </Modal.Header>\n          <Modal.Body\n            style={{ maxHeight: \"887px\", overflow: \"auto\", padding: \"0px 0px\" }}\n          >\n            <div className=\"mt-4 mb-3 mx-3\">\n              <div className=\"row justify-content-between align-items-center mb-4\">\n                <div className=\"col-md-12 left_card\">\n                  <h6>\n                    Declined Reason<span className=\"compulsory\">*</span>\n                  </h6>\n                  <textarea\n                    className=\"form-control\"\n                    placeholder=\"Message\"\n                    name=\"declinedReason\"\n                    value={this.state.declinedReason}\n                    onChange={(e) => {\n                      let errorMessage = {};\n                      this.setState({ declinedReason: e.target.value });\n                      if (\n                        this.state.declinedReason !== undefined &&\n                        this.state.declinedReason !== null &&\n                        this.state.declinedReason !== \"\"\n                      )\n                        errorMessage[\"declinedReason\"] = null;\n                      this.setState({ errorMessage: errorMessage });\n                    }}\n                  ></textarea>\n                  {this.state.errorMessage.declinedReason && (\n                    <p className=\"text-danger\">\n                      {this.state.errorMessage.declinedReason}\n                    </p>\n                  )}\n                </div>\n              </div>\n            </div>\n          </Modal.Body>\n          <Modal.Footer>\n            <button\n              type=\"button\"\n              onClick={() => {\n                this.setState({ isOfferDeclineModelOpen: false });\n              }}\n              className=\"btn cancel_btn\"\n            >\n              Cancel\n            </button>\n            <button\n              type=\"button\"\n              onClick={() => this.onDeclineOfferHandle(\"/my-offers\")}\n              className=\"btn save_btn\"\n            >\n              {\" \"}\n              Decline Proposal{\" \"}\n            </button>\n          </Modal.Footer>\n        </Modal>\n      </>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    languageType: state.languageReducer.languageType,\n    language: state.languageReducer.language,\n    activeRoute: state.routeStore.activeRoute,\n    authUser: state.authReducer,\n  };\n}\nfunction mapDispatchProps(dispatch) {\n  return {\n    onRouteChange: (activeRoute) => {\n      dispatch(onReduxRouteChange(activeRoute));\n    },\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchProps)(OfferDetail);\n"]},"metadata":{},"sourceType":"module"}