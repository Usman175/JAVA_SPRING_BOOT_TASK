{"ast":null,"code":"var _jsxFileName = \"/var/www/php74/bearolefrontend/src/container/project/projectDetails/projectClientDetail.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport \"./projectDetail.scss\";\nimport ShowMoreText from \"react-show-more-text\";\nimport { getOptions, postOptions } from \"../../../utils/httpConfig\";\nimport { ENDPOINT } from \"../../../utils/endpoint\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport request from \"../../../utils/request\";\nimport Skeleton from \"../../../components/skeleton/skeleton\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport { ProjectType } from \"../../../utils/projectConst\";\nimport ProposalsClient from \"../../../components/proposals/proposalClient\";\nimport RecommendedFreelancers from \"../../../components/freelancer/recommendedFreelancers\";\nimport Currency from \"../../../components/currency\";\nimport Format from \"../../../components/numberFormat\";\nimport ProjectTypeBadge from \"../../../components/project/projectTypeBadge\";\nimport ProjectCardbox from \"../allprojects/projectCardbox.jsx\";\nimport NoDataAvailable from \"../../../shared/error/not-data-available-new\";\nimport FormatDWH from \"../../../components/formatDWH\";\nimport SubHeader from \"../../../components/subHeader\";\nimport { filter } from \"lodash-es\";\nimport Pagination from \"../../../components/pagination\";\n\nfunction ProjectClientDetailNew(props) {\n  const [searchFlag, setSearchFlag] = React.useState(false);\n  const [activeTab, setActiveTab] = useState(\"recommended\");\n  const [lastPkEvaluated, setlastPkEvaluated] = React.useState(\"\");\n  const [projectData, setProjectData] = React.useState({});\n  const [proposalData, setProposalData] = React.useState([]);\n  const [showText, setShowText] = React.useState(120);\n  const [showTitle, setShowTitle] = React.useState(100);\n  const [isSkeletonLoading, setIsSkeletonLoading] = React.useState(false);\n  const [isSkeletonLoading1, setIsSkeletonLoading1] = React.useState(false);\n  const [pagination, setPagination] = React.useState({\n    pageNumber: 1,\n    pageSize: 10,\n    total: 10\n  });\n  const [recommendedFreelancers, setRecommendedFreelancers] = React.useState([]);\n  const [freelancerLoading, setFreelancerLoading] = React.useState(false);\n  const [freelancersPagination, setFreelancersPagination] = React.useState({\n    pageNumber: 1,\n    pageSize: 10,\n    total: 10\n  });\n  const dispatch = useDispatch();\n  const languageType = useSelector(state => state.languageReducer.languageType);\n  const languageReducer = useSelector(state => state.languageReducer);\n  const [flag, setFlag] = useState(false);\n  const purposalSearchTypes = languageReducer.purposalSearchTypes;\n  const keysList = {\n    isSameOrigin: false,\n    isLowesProspose: false,\n    isNoOnGoingProject: false,\n    isCompany: false,\n    isIndividual: false,\n    isAgent: false,\n    isFavorite: false,\n    isBlocked: false\n  };\n  const [keys, setKeys] = useState(keysList);\n  useEffect(() => {\n    handleGetProjectData();\n    GetProjectProposalsByFilteredFreelancer();\n  }, []);\n\n  const handleGetProjectData = async () => {\n    setIsSkeletonLoading(true);\n    let result = await request(`${ENDPOINT[\"GetProjectBidding\"]}?projectId=` + new URLSearchParams(props.location.search).get(\"projectId\") + \"&pageSize=\" + 10 + \"&lastSkEvaluated=\" + lastPkEvaluated, getOptions({}));\n\n    if (result.success) {\n      var _project$projectScope, _project$projectScope2;\n\n      setProjectData(result.result);\n      let project = result.result;\n      setIsSkeletonLoading(false);\n      handelRecommendedFreelancers(project.freelancerType, (_project$projectScope = project.projectScope) === null || _project$projectScope === void 0 ? void 0 : _project$projectScope.projectScope, (_project$projectScope2 = project.projectScope) === null || _project$projectScope2 === void 0 ? void 0 : _project$projectScope2.projectSubscope, project.skills);\n    }\n  };\n\n  const handelRecommendedFreelancers = async (freelancerType, projectScope, projectSubscope, skills, move) => {\n    setFreelancerLoading(true);\n    let pageNumber = freelancersPagination.pageNumber;\n\n    if (move === \"next\") {\n      setPagination({ ...freelancersPagination,\n        pageNumber: freelancersPagination.pageNumber + 1\n      });\n      pageNumber = pageNumber + 1;\n    } else if (move === \"prev\") {\n      setPagination({ ...freelancersPagination,\n        pageNumber: freelancersPagination.pageNumber - 1\n      });\n      pageNumber = pageNumber - 1;\n    }\n\n    let result = await request(`${ENDPOINT[\"GetRecommendedFreelancers\"]}?freelancerType=${freelancerType}&serviceScope=${projectScope}&subServiceScope=${projectSubscope}&skills=${skills}&pageNumber=${pageNumber}&pageSize=${freelancersPagination.pageSize}`, getOptions({}));\n\n    if (result.success) {\n      console.log(result, \"result\");\n      setFreelancersPagination({\n        pageNumber: result.pageNumber || result.pageNumer,\n        pageSize: result.pageSize,\n        total: result.total\n      });\n      setRecommendedFreelancers([...(result.entries.organizations ? result.entries.organizations : []), ...(result.entries.freelancers ? result.entries.freelancers : [])]);\n      setFreelancerLoading(false);\n    } else {\n      setFreelancerLoading(false);\n    }\n  };\n\n  const GetProjectProposalsByFilteredFreelancer = async () => {\n    let queryString = \"\";\n\n    if (keys.isSameOrigin) {\n      queryString = queryString + `isSameOrigin=${keys.isSameOrigin}&`;\n    }\n\n    if (keys.isLowesProspose) {\n      queryString = queryString + `isLowesProspose=${keys.isLowesProspose}&`;\n    }\n\n    if (keys.isNoOnGoingProject) {\n      queryString = queryString + `isNoOnGoingProject=${keys.isNoOnGoingProject}&`;\n    }\n\n    if (keys.isCompany) {\n      queryString = queryString + `isCompany=${keys.isCompany}&`;\n    }\n\n    if (keys.isIndividual) {\n      queryString = queryString + `isIndividual=${keys.isIndividual}&`;\n    }\n\n    if (keys.isAgent) {\n      queryString = queryString + `isAgent=${keys.isAgent}&`;\n    }\n\n    if (keys.isFavorite) {\n      queryString = queryString + `isFavorite=${keys.isFavorite}&`;\n    }\n\n    if (keys.isBlocked) {\n      queryString = queryString + `isBlocked=${keys.isBlocked}&`;\n    }\n\n    setIsSkeletonLoading1(true);\n    let result = await request(`${ENDPOINT[\"GetProjectProposalsByFilteredFreelancer\"]}?projectId=` + new URLSearchParams(props.location.search).get(\"projectId\") + `&clientId=${props.clientAuth.clientId}&pageSize=${pagination.pageSize}&pageNumber=${pagination.pageNumber}&` + queryString, getOptions({}));\n\n    if (result.entries) {\n      setProposalData(result.entries);\n      setIsSkeletonLoading1(false);\n    } else {\n      setIsSkeletonLoading1(false);\n    }\n  };\n\n  const toggleSearchfilters = key => {\n    let keysListDefault = keys;\n    keysListDefault[key] = !keys[key];\n    setKeys(keysListDefault);\n    setFlag(!flag);\n  };\n\n  const checkedfunction = key => {\n    if (keys[key]) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  const handleActive = tab => {\n    setActiveTab(tab);\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(SubHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"section\", {\n    className: \"card_sec\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bcknd_container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Skeleton, {\n    count: 10,\n    isSkeletonLoading: isSkeletonLoading || isSkeletonLoading1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 11\n    }\n  }), !isSkeletonLoading && !isSkeletonLoading1 && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-2 col-md-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 15\n    }\n  }, \" \"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-8 col-md-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"project-client-detail-area\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"project-client-detail-heading\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 19\n    }\n  }, languageType.JOB_POST_SUMMARY), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"adjust-card-area-project-detial\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(ProjectCardbox, {\n    key: `cardProject${1}`,\n    selectedProject: projectData,\n    index: 1,\n    disableShadow: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"client-project-section-tabs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    title: activeTab === \"recommended\" ? \"Selected tab\" : \"select tab\",\n    onClick: () => handleActive(\"recommended\"),\n    className: `company-section-tabs-item ${activeTab === \"recommended\" ? \"active\" : \"\"}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 21\n    }\n  }, \"Recommended freelancers\"), /*#__PURE__*/React.createElement(\"div\", {\n    title: activeTab === \"\" ? \"Selected tab\" : \"select tab\",\n    onClick: () => handleActive(\"applicants\"),\n    className: `company-section-tabs-item ${activeTab === \"applicants\" ? \"active\" : \"\"}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 21\n    }\n  }, \"Applicants\")), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 19\n    }\n  }), activeTab === \"applicants\" ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"project-detail-client-applicants-area\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"project-detail-client-applicants-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 36\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    style: {\n      textTransform: \"uppercase\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 25\n    }\n  }, languageType.APPLICANTS_TEXT), /*#__PURE__*/React.createElement(\"i\", {\n    title: languageType.SEARCH,\n    onClick: () => {\n      if (searchFlag) {\n        setSearchFlag(false);\n        document.getElementsByClassName(\"project-detail-client-applicants-search-area\")[0].style.maxHeight = \"0px\";\n      } else {\n        setSearchFlag(true);\n        document.getElementsByClassName(\"project-detail-client-applicants-search-area\")[0].style.maxHeight = \"500px\";\n      }\n    },\n    className: \"fa fa-tasks\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"project-detail-client-applicants-search-area\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"search-elements-project-detail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 25\n    }\n  }, languageReducer.purposalSearchTypes.map(item => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"search-elements-project-detail-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    onClick: () => toggleSearchfilters(item.key),\n    checked: checkedfunction(item.key),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 31\n    }\n  }), \" \", /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 31\n    }\n  }, item.text)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"search-button-area\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => GetProjectProposalsByFilteredFreelancer(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 27\n    }\n  }, languageType.SEARCH))), /*#__PURE__*/React.createElement(ProposalsClient, Object.assign({\n    projecType: projectData.projectType,\n    currencyCode: projectData.currencyCode,\n    proposalData: proposalData,\n    languageType: languageType,\n    type: \"client\",\n    customSetting: true\n  }, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 23\n    }\n  }))) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"recommended-freelancers\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Skeleton, {\n    count: 5,\n    isSkeletonLoading: freelancerLoading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    hidden: freelancerLoading,\n    className: \"recommended-freelancer-area\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 23\n    }\n  }, recommendedFreelancers.length > 0 ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 335,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(RecommendedFreelancers, Object.assign({\n    freelancerData: recommendedFreelancers,\n    languageType: languageType,\n    projectId: projectData.projectId\n  }, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 336,\n      columnNumber: 29\n    }\n  }))) : /*#__PURE__*/React.createElement(NoDataAvailable, Object.assign({\n    title: \"Sorry no recommended freelancer exists!\",\n    buttonText: \"View more freelancers\",\n    path: \"/all-freelancer\",\n    color: \"#0d2146\"\n  }, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 344,\n      columnNumber: 27\n    }\n  })), (recommendedFreelancers === null || recommendedFreelancers === void 0 ? void 0 : recommendedFreelancers.length) > 0 && /*#__PURE__*/React.createElement(Pagination, {\n    isPreviousPage: freelancersPagination.pageNumber > 1 ? true : false,\n    isNextPage: freelancersPagination.pageNumber * freelancersPagination.pageSize < freelancersPagination.total ? true : false,\n    lastPkEvaluatedTrack: recommendedFreelancers,\n    pageNumber: freelancersPagination.pageNumber,\n    moveBack: () => {\n      var _projectData$projectS, _projectData$projectS2;\n\n      return handelRecommendedFreelancers(projectData.freelancerType, (_projectData$projectS = projectData.projectScope) === null || _projectData$projectS === void 0 ? void 0 : _projectData$projectS.projectScope, (_projectData$projectS2 = projectData.projectScope) === null || _projectData$projectS2 === void 0 ? void 0 : _projectData$projectS2.projectSubscope, projectData.skills, \"prev\");\n    },\n    moveNext: () => {\n      var _projectData$projectS3, _projectData$projectS4;\n\n      return handelRecommendedFreelancers(projectData.freelancerType, (_projectData$projectS3 = projectData.projectScope) === null || _projectData$projectS3 === void 0 ? void 0 : _projectData$projectS3.projectScope, (_projectData$projectS4 = projectData.projectScope) === null || _projectData$projectS4 === void 0 ? void 0 : _projectData$projectS4.projectSubscope, projectData.skills, \"next\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 353,\n      columnNumber: 27\n    }\n  }))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-2 col-md-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 393,\n      columnNumber: 15\n    }\n  }, \" \")))));\n}\n\nfunction mapStateToProps(state) {\n  return {\n    languageType: state.languageReducer.languageType,\n    language: state.languageReducer.language,\n    activeRoute: state.routeStore.activeRoute,\n    authUser: state.authReducer,\n    clientAuth: state.authReducer.clientAuth\n  };\n}\n\nexport default connect(mapStateToProps)(ProjectClientDetailNew);","map":{"version":3,"sources":["/var/www/php74/bearolefrontend/src/container/project/projectDetails/projectClientDetail.js"],"names":["React","useEffect","useState","connect","ShowMoreText","getOptions","postOptions","ENDPOINT","useDispatch","useSelector","request","Skeleton","Tooltip","ProjectType","ProposalsClient","RecommendedFreelancers","Currency","Format","ProjectTypeBadge","ProjectCardbox","NoDataAvailable","FormatDWH","SubHeader","filter","Pagination","ProjectClientDetailNew","props","searchFlag","setSearchFlag","activeTab","setActiveTab","lastPkEvaluated","setlastPkEvaluated","projectData","setProjectData","proposalData","setProposalData","showText","setShowText","showTitle","setShowTitle","isSkeletonLoading","setIsSkeletonLoading","isSkeletonLoading1","setIsSkeletonLoading1","pagination","setPagination","pageNumber","pageSize","total","recommendedFreelancers","setRecommendedFreelancers","freelancerLoading","setFreelancerLoading","freelancersPagination","setFreelancersPagination","dispatch","languageType","state","languageReducer","flag","setFlag","purposalSearchTypes","keysList","isSameOrigin","isLowesProspose","isNoOnGoingProject","isCompany","isIndividual","isAgent","isFavorite","isBlocked","keys","setKeys","handleGetProjectData","GetProjectProposalsByFilteredFreelancer","result","URLSearchParams","location","search","get","success","project","handelRecommendedFreelancers","freelancerType","projectScope","projectSubscope","skills","move","console","log","pageNumer","entries","organizations","freelancers","queryString","clientAuth","clientId","toggleSearchfilters","key","keysListDefault","checkedfunction","handleActive","tab","JOB_POST_SUMMARY","textTransform","APPLICANTS_TEXT","SEARCH","document","getElementsByClassName","style","maxHeight","map","item","text","projectType","currencyCode","length","projectId","mapStateToProps","language","activeRoute","routeStore","authUser","authReducer"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport \"./projectDetail.scss\";\nimport ShowMoreText from \"react-show-more-text\";\nimport { getOptions, postOptions } from \"../../../utils/httpConfig\";\nimport { ENDPOINT } from \"../../../utils/endpoint\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport request from \"../../../utils/request\";\nimport Skeleton from \"../../../components/skeleton/skeleton\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport { ProjectType } from \"../../../utils/projectConst\";\nimport ProposalsClient from \"../../../components/proposals/proposalClient\";\nimport RecommendedFreelancers from \"../../../components/freelancer/recommendedFreelancers\";\nimport Currency from \"../../../components/currency\";\nimport Format from \"../../../components/numberFormat\";\nimport ProjectTypeBadge from \"../../../components/project/projectTypeBadge\";\nimport ProjectCardbox from \"../allprojects/projectCardbox.jsx\";\nimport NoDataAvailable from \"../../../shared/error/not-data-available-new\";\nimport FormatDWH from \"../../../components/formatDWH\";\nimport SubHeader from \"../../../components/subHeader\";\nimport { filter } from \"lodash-es\";\nimport Pagination from \"../../../components/pagination\";\n\nfunction ProjectClientDetailNew(props) {\n  const [searchFlag, setSearchFlag] = React.useState(false);\n  const [activeTab, setActiveTab] = useState(\"recommended\");\n  const [lastPkEvaluated, setlastPkEvaluated] = React.useState(\"\");\n  const [projectData, setProjectData] = React.useState({});\n  const [proposalData, setProposalData] = React.useState([]);\n  const [showText, setShowText] = React.useState(120);\n  const [showTitle, setShowTitle] = React.useState(100);\n  const [isSkeletonLoading, setIsSkeletonLoading] = React.useState(false);\n  const [isSkeletonLoading1, setIsSkeletonLoading1] = React.useState(false);\n  const [pagination, setPagination] = React.useState({\n    pageNumber: 1,\n    pageSize: 10,\n    total: 10,\n  });\n  const [recommendedFreelancers, setRecommendedFreelancers] = React.useState(\n    []\n  );\n  const [freelancerLoading, setFreelancerLoading] = React.useState(false);\n  const [freelancersPagination, setFreelancersPagination] = React.useState({\n    pageNumber: 1,\n    pageSize: 10,\n    total: 10,\n  });\n\n  const dispatch = useDispatch();\n\n  const languageType = useSelector(\n    (state) => state.languageReducer.languageType\n  );\n  const languageReducer = useSelector((state) => state.languageReducer);\n  const [flag, setFlag] = useState(false);\n  const purposalSearchTypes = languageReducer.purposalSearchTypes;\n  const keysList = {\n    isSameOrigin: false,\n    isLowesProspose: false,\n    isNoOnGoingProject: false,\n    isCompany: false,\n    isIndividual: false,\n    isAgent: false,\n    isFavorite: false,\n    isBlocked: false,\n  };\n\n  const [keys, setKeys] = useState(keysList);\n\n  useEffect(() => {\n    handleGetProjectData();\n    GetProjectProposalsByFilteredFreelancer();\n  }, []);\n  const handleGetProjectData = async () => {\n    setIsSkeletonLoading(true);\n    let result = await request(\n      `${ENDPOINT[\"GetProjectBidding\"]}?projectId=` +\n        new URLSearchParams(props.location.search).get(\"projectId\") +\n        \"&pageSize=\" +\n        10 +\n        \"&lastSkEvaluated=\" +\n        lastPkEvaluated,\n      getOptions({})\n    );\n    if (result.success) {\n      setProjectData(result.result);\n      let project = result.result;\n      setIsSkeletonLoading(false);\n      handelRecommendedFreelancers(\n        project.freelancerType,\n        project.projectScope?.projectScope,\n        project.projectScope?.projectSubscope,\n        project.skills\n      );\n    }\n  };\n\n  const handelRecommendedFreelancers = async (\n    freelancerType,\n    projectScope,\n    projectSubscope,\n    skills,\n    move\n  ) => {\n    setFreelancerLoading(true);\n    let pageNumber = freelancersPagination.pageNumber;\n    if (move === \"next\") {\n      setPagination({\n        ...freelancersPagination,\n        pageNumber: freelancersPagination.pageNumber + 1,\n      });\n      pageNumber = pageNumber + 1;\n    } else if (move === \"prev\") {\n      setPagination({\n        ...freelancersPagination,\n        pageNumber: freelancersPagination.pageNumber - 1,\n      });\n      pageNumber = pageNumber - 1;\n    }\n\n    let result = await request(\n      `${ENDPOINT[\"GetRecommendedFreelancers\"]}?freelancerType=${freelancerType}&serviceScope=${projectScope}&subServiceScope=${projectSubscope}&skills=${skills}&pageNumber=${pageNumber}&pageSize=${freelancersPagination.pageSize}`,\n      getOptions({})\n    );\n    if (result.success) {\n      console.log(result, \"result\");\n      setFreelancersPagination({\n        pageNumber: result.pageNumber || result.pageNumer,\n        pageSize: result.pageSize,\n        total: result.total,\n      });\n      setRecommendedFreelancers([\n        ...(result.entries.organizations ? result.entries.organizations : []),\n        ...(result.entries.freelancers ? result.entries.freelancers : []),\n      ]);\n      setFreelancerLoading(false);\n    } else {\n      setFreelancerLoading(false);\n    }\n  };\n\n  const GetProjectProposalsByFilteredFreelancer = async () => {\n    let queryString = \"\";\n    if (keys.isSameOrigin) {\n      queryString = queryString + `isSameOrigin=${keys.isSameOrigin}&`;\n    }\n    if (keys.isLowesProspose) {\n      queryString = queryString + `isLowesProspose=${keys.isLowesProspose}&`;\n    }\n    if (keys.isNoOnGoingProject) {\n      queryString =\n        queryString + `isNoOnGoingProject=${keys.isNoOnGoingProject}&`;\n    }\n    if (keys.isCompany) {\n      queryString = queryString + `isCompany=${keys.isCompany}&`;\n    }\n    if (keys.isIndividual) {\n      queryString = queryString + `isIndividual=${keys.isIndividual}&`;\n    }\n    if (keys.isAgent) {\n      queryString = queryString + `isAgent=${keys.isAgent}&`;\n    }\n    if (keys.isFavorite) {\n      queryString = queryString + `isFavorite=${keys.isFavorite}&`;\n    }\n    if (keys.isBlocked) {\n      queryString = queryString + `isBlocked=${keys.isBlocked}&`;\n    }\n\n    setIsSkeletonLoading1(true);\n    let result = await request(\n      `${ENDPOINT[\"GetProjectProposalsByFilteredFreelancer\"]}?projectId=` +\n        new URLSearchParams(props.location.search).get(\"projectId\") +\n        `&clientId=${props.clientAuth.clientId}&pageSize=${pagination.pageSize}&pageNumber=${pagination.pageNumber}&` +\n        queryString,\n      getOptions({})\n    );\n    if (result.entries) {\n      setProposalData(result.entries);\n      setIsSkeletonLoading1(false);\n    } else {\n      setIsSkeletonLoading1(false);\n    }\n  };\n\n  const toggleSearchfilters = (key) => {\n    let keysListDefault = keys;\n    keysListDefault[key] = !keys[key];\n    setKeys(keysListDefault);\n    setFlag(!flag);\n  };\n\n  const checkedfunction = (key) => {\n    if (keys[key]) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n  const handleActive = (tab) => {\n    setActiveTab(tab);\n  };\n  return (\n    <>\n      <SubHeader />\n      <section className=\"card_sec\">\n        <div className=\"bcknd_container\">\n          <Skeleton\n            count={10}\n            isSkeletonLoading={isSkeletonLoading || isSkeletonLoading1}\n          />\n          {!isSkeletonLoading && !isSkeletonLoading1 && (\n            <div className=\"row\">\n              <div className=\"col-lg-2 col-md-12\">\n                {\" \"}\n                {/* <RightTop />\n              <RightBottom /> */}\n              </div>\n              <div className=\"col-lg-8 col-md-12\">\n                <div className=\"project-client-detail-area\">\n                  {/*        {console.log(projectData,\"projectData\")} */}\n                  <h4 className=\"project-client-detail-heading\">\n                    {languageType.JOB_POST_SUMMARY}\n                  </h4>\n                  <div className=\"adjust-card-area-project-detial\">\n                    <ProjectCardbox\n                      key={`cardProject${1}`}\n                      selectedProject={projectData}\n                      index={1}\n                      disableShadow={true}\n                    />\n                  </div>\n                  <br />\n                  <div className=\"client-project-section-tabs\">\n                    <div\n                      title={\n                        activeTab === \"recommended\"\n                          ? \"Selected tab\"\n                          : \"select tab\"\n                      }\n                      onClick={() => handleActive(\"recommended\")}\n                      className={`company-section-tabs-item ${\n                        activeTab === \"recommended\" ? \"active\" : \"\"\n                      }`}\n                    >\n                      Recommended freelancers\n                    </div>\n\n                    <div\n                      title={\n                        activeTab === \"\"\n                          ? \"Selected tab\"\n                          : \"select tab\"\n                      }\n                      onClick={() => handleActive(\"applicants\")}\n                      className={`company-section-tabs-item ${\n                        activeTab === \"applicants\" ? \"active\" : \"\"\n                      }`}\n                    >\n                      Applicants\n                    </div>\n                  </div>\n                  <br />\n                  <br />\n                  {activeTab === \"applicants\" ? (\n                    <div className=\"project-detail-client-applicants-area\">\n                                   <div className=\"project-detail-client-applicants-header\">\n                        <h6 style={{ textTransform: \"uppercase\" }}>\n                          {languageType.APPLICANTS_TEXT}\n                        </h6>\n                        <i\n                          title={languageType.SEARCH}\n                          onClick={() => {\n                            if (searchFlag) {\n                              setSearchFlag(false);\n                              document.getElementsByClassName(\n                                \"project-detail-client-applicants-search-area\"\n                              )[0].style.maxHeight = \"0px\";\n                            } else {\n                              setSearchFlag(true);\n                              document.getElementsByClassName(\n                                \"project-detail-client-applicants-search-area\"\n                              )[0].style.maxHeight = \"500px\";\n                            }\n                          }}\n                          className=\"fa fa-tasks\"\n                        ></i>\n                      </div>\n\n                      <div className=\"project-detail-client-applicants-search-area\">\n                        <div className=\"search-elements-project-detail\">\n                          {languageReducer.purposalSearchTypes.map((item) => (\n                            <div className=\"search-elements-project-detail-item\">\n                              <input\n                                type=\"checkbox\"\n                                onClick={() => toggleSearchfilters(item.key)}\n                                checked={checkedfunction(item.key)}\n                              />{\" \"}\n                              <label>{item.text}</label>\n                            </div>\n                          ))}\n                        </div>\n                        <div className=\"search-button-area\">\n                          <button\n                            onClick={() =>\n                              GetProjectProposalsByFilteredFreelancer()\n                            }\n                          >\n                            {languageType.SEARCH}\n                          </button>\n                        </div>\n                      </div>\n                      <ProposalsClient\n                        projecType={projectData.projectType}\n                        currencyCode={projectData.currencyCode}\n                        proposalData={proposalData}\n                        languageType={languageType}\n                        type=\"client\"\n                        customSetting={true}\n                        {...props}\n                      />\n                    </div>\n                  ) : (\n                    <div className=\"recommended-freelancers\">\n                      <Skeleton\n                        count={5}\n                        isSkeletonLoading={freelancerLoading}\n                      />\n\n                      <div\n                        hidden={freelancerLoading}\n                        className=\"recommended-freelancer-area\"\n                      >\n                        {recommendedFreelancers.length > 0 ? (\n                          <div>\n                            <RecommendedFreelancers\n                              freelancerData={recommendedFreelancers}\n                              languageType={languageType}\n                              projectId={projectData.projectId}\n                              {...props}\n                            />\n                          </div>\n                        ) : (\n                          <NoDataAvailable\n                            title=\"Sorry no recommended freelancer exists!\"\n                            buttonText=\"View more freelancers\"\n                            path=\"/all-freelancer\"\n                            color={\"#0d2146\"}\n                            {...props}\n                          />\n                        )}\n                        {recommendedFreelancers?.length > 0 && (\n                          <Pagination\n                            isPreviousPage={\n                              freelancersPagination.pageNumber > 1\n                                ? true\n                                : false\n                            }\n                            isNextPage={\n                              freelancersPagination.pageNumber *\n                                freelancersPagination.pageSize <\n                              freelancersPagination.total\n                                ? true\n                                : false\n                            }\n                            lastPkEvaluatedTrack={recommendedFreelancers}\n                            pageNumber={freelancersPagination.pageNumber}\n                            moveBack={() =>\n                              handelRecommendedFreelancers(\n                                projectData.freelancerType,\n                                projectData.projectScope?.projectScope,\n                                projectData.projectScope?.projectSubscope,\n                                projectData.skills,\n                                \"prev\"\n                              )\n                            }\n                            moveNext={() =>\n                              handelRecommendedFreelancers(\n                                projectData.freelancerType,\n                                projectData.projectScope?.projectScope,\n                                projectData.projectScope?.projectSubscope,\n                                projectData.skills,\n                                \"next\"\n                              )\n                            }\n                          />\n                        )}\n                      </div>\n                    </div>\n                  )}\n                </div>\n              </div>\n              <div className=\"col-lg-2 col-md-12\">\n                {\" \"}\n                {/* <RightTop />\n              <RightBottom /> */}\n              </div>\n            </div>\n          )}\n        </div>\n      </section>\n    </>\n  );\n}\n\nfunction mapStateToProps(state) {\n  return {\n    languageType: state.languageReducer.languageType,\n    language: state.languageReducer.language,\n    activeRoute: state.routeStore.activeRoute,\n    authUser: state.authReducer,\n    clientAuth: state.authReducer.clientAuth,\n  };\n}\n\nexport default connect(mapStateToProps)(ProjectClientDetailNew);\n"]},"metadata":{},"sourceType":"module"}