{"ast":null,"code":"var _jsxFileName = \"/var/www/php74/bearolefrontend/src/container/project/projectProposals/projectProposalDetails/proposalCompnents/hourly.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport \"./proposalCompnents.scss\";\nimport Label from \"../../../../../components/customLabel/label\";\nimport DropdownList from \"../../../../../components/dropdowns/dropdownList\";\nimport { GetAmountPerHour } from \"../../../../../utils/currency\";\nimport { ENDPOINT } from \"../../../../../utils/endpoint\";\nimport { getOptions, postOptions } from \"../../../../../utils/httpConfig\";\nimport request from \"../../../../../utils/request\";\nimport { store } from \"react-notifications-component\";\nimport \"react-notifications-component/dist/theme.css\";\nimport Currency from \"../../../../../components/currency\";\nimport FreelancerSelection from \"./freelancerSelection\";\nimport notifications from \"../../../../../utils/notifications\";\nlet teamMembers = [{\n  name: \"Asim ALi\",\n  profile: \"https://dhihitu47nqhv.cloudfront.net/profileimage/64205290-20ef-4083-8d04-02033194bf73.png\",\n  jobType: \"ReactJs developer\",\n  available: \"Part Time\",\n  hourlyRate: \"0.00\",\n  availablePerWeek: \"30\"\n}, {\n  name: \"Mansure Haider\",\n  profile: \"https://lh3.googleusercontent.com/a-/AOh14GjK1QIGlo0M7b0EvnbpUV8gpL730CC4kH_LG0JG-DA=s96-c\",\n  jobType: \"C# developer\",\n  available: \"Full Time\",\n  hourlyRate: \"0.00\",\n  availablePerWeek: \"30\"\n}, {\n  name: \"Sonny Cho\",\n  profile: \"https://dhihitu47nqhv.cloudfront.net/profileimage/64205290-20ef-4083-8d04-02033194bf73.png\",\n  jobType: \"Dot net, developer\",\n  available: \"Part Time\",\n  hourlyRate: \"0.00\",\n  availablePerWeek: \"30\"\n}, {\n  name: \"Canh doan\",\n  profile: \"https://dhihitu47nqhv.cloudfront.net/profileimage/64205290-20ef-4083-8d04-02033194bf73.png\",\n  jobType: \"C# developer\",\n  available: \"Part Time\",\n  hourlyRate: \"0.00\",\n  availablePerWeek: \"30\"\n}, {\n  name: \"Fiaz Ahmed\",\n  profile: \"https://dhihitu47nqhv.cloudfront.net/profileimage/64205290-20ef-4083-8d04-02033194bf73.png\",\n  jobType: \"C# developer\",\n  available: \"Part Time\",\n  hourlyRate: \"0.00\",\n  availablePerWeek: \"30\"\n}];\nlet teams = [{\n  text: \"team 1\",\n  value: \"team 1\"\n}, {\n  text: \"team 2\",\n  value: \"team 2\"\n}, {\n  text: \"team 3\",\n  value: \"team 3\"\n}, {\n  text: \"team 4\",\n  value: \"team 4\"\n}, {\n  text: \"team 5\",\n  value: \"team 5\"\n}];\nexport default function Hourly(props) {\n  const [currency, setCurrency] = useState(props.selectedProject.currencyCode ? props.selectedProject.currencyCode : \"\");\n  const [proposingAmount, setProposingAmount] = useState(\"\");\n  const [proposalHours, setProposalHours] = useState(\"\");\n  const [termsFlag, setTermsFlag] = useState(false);\n  const [freelancerType, setFreelancerType] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [isProbationAccepted, setIsProbationAccepted] = useState(false);\n  const [errMsg, setErrMsg] = useState({});\n  const [selectedTeams, setSelectedTeams] = useState([{\n    teamName: \"\",\n    teamMembers: []\n  }]);\n  const [SelectedFreelancer, setSelectedFreelancer] = useState([]);\n  const dispatch = useDispatch();\n  const languageType = useSelector(state => state.languageReducer.languageType);\n  const languageReducer = useSelector(state => state.languageReducer);\n  const authReducer = useSelector(state => state.authReducer);\n  React.useEffect(() => {\n    if (authReducer.freelancerAuth) {\n      setFreelancerType(\"Freelancer\");\n    }\n\n    if (authReducer.organizationAuth) {\n      setFreelancerType(\"Company\");\n    }\n  }, [authReducer.freelancerAuth, authReducer.organizationAuth]);\n\n  const handleValidation = () => {\n    let errorMessage = {};\n    let {\n      proposalData,\n      languageType\n    } = props;\n    let formIsValid = true;\n\n    if (!proposalData.coverLetter) {\n      formIsValid = false;\n      props.handleInitialValidation(\"coverLetter\");\n    } else if (!proposalData.description) {\n      formIsValid = false;\n      props.handleInitialValidation(\"description\");\n    } else if (!currency) {\n      formIsValid = false;\n      errorMessage[\"currency\"] = languageType.REQUIRED_MESSAGE;\n    } else if (!proposalHours) {\n      formIsValid = false;\n      errorMessage[\"proposalHours\"] = languageType.REQUIRED_MESSAGE;\n    } else if (freelancerType === \"Freelancer\" && !proposingAmount) {\n      formIsValid = false;\n      errorMessage[\"proposingAmount\"] = languageType.REQUIRED_MESSAGE;\n    } else if (!termsFlag) {\n      formIsValid = false;\n      errorMessage[\"termsFlag\"] = languageType.REQUIRED_MESSAGE;\n    } else if (freelancerType === \"Company\" && props.companyFreelancers.length < 1) {\n      formIsValid = false;\n      notifications.showWarning(\"You need at least freelance for proposal\");\n    } else if (freelancerType === \"Company\" && SelectedFreelancer.length < 1) {\n      formIsValid = false;\n      notifications.showWarning(\"You need to select at least one freelancer!\");\n    }\n\n    setErrMsg(errorMessage);\n    return formIsValid;\n  };\n\n  const handleUpdateTermsFlag = value => {\n    if (value) {\n      let errMsgs = errMsg;\n      delete errMsgs.termsFlag;\n      setErrMsg(errMsgs);\n    } else {\n      let errMsgs = errMsg;\n      errMsgs[\"termsFlag\"] = props.languageType.REQUIRED_MESSAGE;\n      setErrMsg(errMsgs);\n    }\n\n    setTermsFlag(value);\n  };\n\n  const handleUpdateIsProbation = value => {\n    setIsProbationAccepted(value);\n  };\n\n  React.useEffect(() => {\n    let {\n      hoursPerWeek,\n      hourlyAmount,\n      amountPerDay,\n      weekDays,\n      daysAttendingPerWeek,\n      isProbationAccepted\n    } = props.existingProposalData;\n    setProposalHours(hoursPerWeek);\n    setProposingAmount(hourlyAmount);\n    setIsProbationAccepted(isProbationAccepted);\n  }, [props.existingProposalData]); // submit proposal\n\n  const handleProposalSubmit = async () => {\n    let {\n      proposalData,\n      selectedProject\n    } = props;\n\n    if (handleValidation()) {\n      let params = {\n        projectId: proposalData.projectId,\n        freelancerReferenceId: proposalData.userId,\n        freelancerType: selectedProject.freelancerType,\n        projectProposalId: proposalData.projectProposalId,\n        proposedDateTime: \"\",\n        description: proposalData.description,\n        coverLetter: proposalData.coverLetter,\n        screeningQuestions: proposalData.screeningQuestionList.length > 0 ? JSON.stringify(proposalData.screeningQuestionList) : \"\",\n        isProbationAccepted: isProbationAccepted,\n        daysAttendingPerWeek: \"\",\n        amountPerDay: \"\",\n        hoursPerWeek: proposalHours === null || proposalHours === void 0 ? void 0 : proposalHours.toString(),\n        hourlyAmount: proposingAmount === null || proposingAmount === void 0 ? void 0 : proposingAmount.toString(),\n        documents: props.documents,\n        estimateCompleteDateTime: \"\",\n        amount: \"\",\n        milestones: \"\",\n        currencyCode: currency,\n        offerProjectPeriod: \"\",\n        offeredMilestones: [],\n        freelancers: SelectedFreelancer.length > 0 ? SelectedFreelancer.map(item => ({\n          individualFreelancerId: item.individualFreelancerId,\n          attendHourOfWeek: proposalHours,\n          hourlyRate: item.hourlyRate\n        })) : null\n      };\n      setLoading(true);\n      let result = await request(proposalData.projectProposalId ? ENDPOINT[\"UpdateProposal\"] : ENDPOINT[\"CreateProposal\"], postOptions(params));\n\n      if (result.success) {\n        if (result) {\n          setLoading(false);\n          store.addNotification({\n            title: `Proposal ${proposalData.projectProposalId ? \"Updated\" : \"Submitted\"} Successfully `,\n            message: `Proposal  successfully ${proposalData.projectProposalId ? \"Updated\" : \"Submitted\"}  hourly project`,\n            type: \"success\",\n            insert: \"top\",\n            container: \"top-center\",\n            animationIn: [\"animate__animated\", \"animate__fadeIn\"],\n            animationOut: [\"animate__animated\", \"animate__fadeOut\"],\n            dismiss: {\n              duration: 2000,\n              onScreen: true\n            }\n          });\n          let newurl = `project-proposal-detail?id=${proposalData.projectId}&projectProposalId=${result.result}`;\n          props.onRouteChange(\"project-proposal-detail\");\n          props.history.push(newurl);\n        } else {\n          store.addNotification({\n            title: \"Error \",\n            message: result.message,\n            type: \"warning\",\n            insert: \"top\",\n            container: \"top-center\",\n            animationIn: [\"animate__animated\", \"animate__fadeIn\"],\n            animationOut: [\"animate__animated\", \"animate__fadeOut\"],\n            dismiss: {\n              duration: 2000,\n              onScreen: true\n            }\n          });\n          setLoading(false);\n        }\n      }\n    }\n  };\n  /*   console.log(languageReducer, \"languageReducer12\"); */\n\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"milestone_project_proposal_area\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"milestone_project_proposal_detail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12 col-md-3\",\n    hidden: freelancerType === \"Company\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(DropdownList, {\n    id: \"currency\",\n    name: \"currency\",\n    enableAutoCompleteSearch: true,\n    placeHolder: \"Select currency\",\n    value: currency,\n    items: languageReducer.currencies,\n    selectItem: value => {\n      setCurrency(value);\n      let errMsgs = errMsg;\n      delete errMsgs.currency;\n      setErrMsg(errMsgs);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 13\n    }\n  }), errMsg.currency && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 15\n    }\n  }, errMsg.currency)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12 col-md-4\",\n    hidden: freelancerType === \"Company\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input_proposal_area_detail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(DropdownList, {\n    id: \"ProposingAmount\",\n    name: \"ProposingAmount\",\n    enableAutoCompleteSearch: true,\n    placeHolder: \"Proposing Amount\",\n    value: proposingAmount,\n    items: currency ? GetAmountPerHour(currency) : [],\n    selectItem: value => {\n      setProposingAmount(value);\n      let errMsgs = errMsg;\n      delete errMsgs.proposingAmount;\n      setErrMsg(errMsgs);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 15\n    }\n  })), errMsg.proposingAmount && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 15\n    }\n  }, errMsg.proposingAmount)), /*#__PURE__*/React.createElement(\"div\", {\n    hidden: freelancerType === \"Company\",\n    className: \"col-12 col-md-3 proposal_hours_unit\",\n    style: {\n      marginTop: \"0px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 11\n    }\n  }, \"per hour\")), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 351,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12 col-md-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    title: \"Proposing Hours Per Week\",\n    compulsory: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 353,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(DropdownList, {\n    id: \"proposalHours\",\n    name: \"proposalHours\",\n    enableAutoCompleteSearch: true,\n    placeHolder: \"Select Hours\",\n    value: proposalHours,\n    items: [{\n      text: languageType.NO_TEN_TEXT,\n      value: \"10\"\n    }, {\n      text: languageType.NO_TWENTY_TEXT,\n      value: \"20\"\n    }, {\n      text: languageType.NO_THIRTY_TEXT,\n      value: \"30\"\n    }, {\n      text: languageType.NO_FOURTY_TEXT,\n      value: \"40\"\n    }, {\n      text: languageType.NO_FIFTY_TEXT,\n      value: \"50\"\n    }, {\n      text: languageType.NO_UNLIMITED_TEXT,\n      value: \"60\"\n    }],\n    selectItem: value => {\n      setProposalHours(value);\n      let errMsgs = errMsg;\n      delete errMsgs.proposalHours;\n      setErrMsg(errMsgs);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 13\n    }\n  }), errMsg.proposalHours && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 394,\n      columnNumber: 15\n    }\n  }, errMsg.proposalHours)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12 col-md-3 proposal_hours_unit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 397,\n      columnNumber: 11\n    }\n  }, \"per week\"))), /*#__PURE__*/React.createElement(\"div\", {\n    hidden: freelancerType === \"Freelancer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 400,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(FreelancerSelection, {\n    teams: teams,\n    setSelectedTeams: setSelectedTeams,\n    selectedTeams: selectedTeams,\n    teamMembers: props.companyFreelancers,\n    proposingAmountHourly: proposingAmount,\n    type: \"Hourly\",\n    setSelectedFreelancer: setSelectedFreelancer,\n    SelectedFreelancer: SelectedFreelancer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 401,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"checkbox_area_for_mile_stone_bid\",\n    style: {\n      margin: \"5px 0px 0px -5px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 413,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"custom-checkbox-styled\",\n    onChange: e => handleUpdateIsProbation(e.target.checked),\n    checked: isProbationAccepted,\n    id: \"styled-checkbox-week-probation\",\n    type: \"checkbox\",\n    value: isProbationAccepted,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 417,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    for: \"styled-checkbox-week-probation\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 425,\n      columnNumber: 9\n    }\n  }, \"Do you accept 2 weeks probation period?\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"checkbox_area_for_mile_stone_bid\",\n    style: {\n      margin: \"5px 0px 0px -5px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 429,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"custom-checkbox-styled\",\n    onChange: e => handleUpdateTermsFlag(e.target.checked),\n    checked: termsFlag,\n    id: \"styled-checkbox-week-terms\",\n    type: \"checkbox\",\n    value: termsFlag,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 433,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    for: \"styled-checkbox-week-terms\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 441,\n      columnNumber: 9\n    }\n  }, \" \", \"Have you read the terms and conditions? If not, please click here\")), errMsg.termsFlag && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 446,\n      columnNumber: 28\n    }\n  }, errMsg.termsFlag), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"proposal_submit_area\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 448,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    disabled: loading,\n    onClick: handleProposalSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 449,\n      columnNumber: 9\n    }\n  }, props.proposalData.projectProposalId ? \"Update\" : \"Propose\", \"  \", loading ? /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-spinner fa-spin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 450,\n      columnNumber: 79\n    }\n  }) : \"\")));\n}","map":{"version":3,"sources":["/var/www/php74/bearolefrontend/src/container/project/projectProposals/projectProposalDetails/proposalCompnents/hourly.js"],"names":["React","useEffect","useState","useDispatch","useSelector","Label","DropdownList","GetAmountPerHour","ENDPOINT","getOptions","postOptions","request","store","Currency","FreelancerSelection","notifications","teamMembers","name","profile","jobType","available","hourlyRate","availablePerWeek","teams","text","value","Hourly","props","currency","setCurrency","selectedProject","currencyCode","proposingAmount","setProposingAmount","proposalHours","setProposalHours","termsFlag","setTermsFlag","freelancerType","setFreelancerType","loading","setLoading","isProbationAccepted","setIsProbationAccepted","errMsg","setErrMsg","selectedTeams","setSelectedTeams","teamName","SelectedFreelancer","setSelectedFreelancer","dispatch","languageType","state","languageReducer","authReducer","freelancerAuth","organizationAuth","handleValidation","errorMessage","proposalData","formIsValid","coverLetter","handleInitialValidation","description","REQUIRED_MESSAGE","companyFreelancers","length","showWarning","handleUpdateTermsFlag","errMsgs","handleUpdateIsProbation","hoursPerWeek","hourlyAmount","amountPerDay","weekDays","daysAttendingPerWeek","existingProposalData","handleProposalSubmit","params","projectId","freelancerReferenceId","userId","projectProposalId","proposedDateTime","screeningQuestions","screeningQuestionList","JSON","stringify","toString","documents","estimateCompleteDateTime","amount","milestones","offerProjectPeriod","offeredMilestones","freelancers","map","item","individualFreelancerId","attendHourOfWeek","result","success","addNotification","title","message","type","insert","container","animationIn","animationOut","dismiss","duration","onScreen","newurl","onRouteChange","history","push","currencies","marginTop","NO_TEN_TEXT","NO_TWENTY_TEXT","NO_THIRTY_TEXT","NO_FOURTY_TEXT","NO_FIFTY_TEXT","NO_UNLIMITED_TEXT","margin","e","target","checked"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport \"./proposalCompnents.scss\";\nimport Label from \"../../../../../components/customLabel/label\";\nimport DropdownList from \"../../../../../components/dropdowns/dropdownList\";\nimport { GetAmountPerHour } from \"../../../../../utils/currency\";\nimport { ENDPOINT } from \"../../../../../utils/endpoint\";\nimport { getOptions, postOptions } from \"../../../../../utils/httpConfig\";\nimport request from \"../../../../../utils/request\";\nimport { store } from \"react-notifications-component\";\nimport \"react-notifications-component/dist/theme.css\";\nimport Currency from \"../../../../../components/currency\";\nimport FreelancerSelection from \"./freelancerSelection\";\nimport notifications from \"../../../../../utils/notifications\";\nlet teamMembers = [\n  {\n    name: \"Asim ALi\",\n    profile:\n      \"https://dhihitu47nqhv.cloudfront.net/profileimage/64205290-20ef-4083-8d04-02033194bf73.png\",\n    jobType: \"ReactJs developer\",\n    available: \"Part Time\",\n    hourlyRate: \"0.00\",\n    availablePerWeek: \"30\",\n  },\n  {\n    name: \"Mansure Haider\",\n    profile:\n      \"https://lh3.googleusercontent.com/a-/AOh14GjK1QIGlo0M7b0EvnbpUV8gpL730CC4kH_LG0JG-DA=s96-c\",\n    jobType: \"C# developer\",\n    available: \"Full Time\",\n    hourlyRate: \"0.00\",\n    availablePerWeek: \"30\",\n  },\n  {\n    name: \"Sonny Cho\",\n    profile:\n      \"https://dhihitu47nqhv.cloudfront.net/profileimage/64205290-20ef-4083-8d04-02033194bf73.png\",\n    jobType: \"Dot net, developer\",\n    available: \"Part Time\",\n    hourlyRate: \"0.00\",\n    availablePerWeek: \"30\",\n  },\n  {\n    name: \"Canh doan\",\n    profile:\n      \"https://dhihitu47nqhv.cloudfront.net/profileimage/64205290-20ef-4083-8d04-02033194bf73.png\",\n    jobType: \"C# developer\",\n    available: \"Part Time\",\n    hourlyRate: \"0.00\",\n    availablePerWeek: \"30\",\n  },\n  {\n    name: \"Fiaz Ahmed\",\n    profile:\n      \"https://dhihitu47nqhv.cloudfront.net/profileimage/64205290-20ef-4083-8d04-02033194bf73.png\",\n    jobType: \"C# developer\",\n    available: \"Part Time\",\n    hourlyRate: \"0.00\",\n    availablePerWeek: \"30\",\n  },\n];\nlet teams = [\n  {\n    text: \"team 1\",\n    value: \"team 1\",\n  },\n  {\n    text: \"team 2\",\n    value: \"team 2\",\n  },\n  {\n    text: \"team 3\",\n    value: \"team 3\",\n  },\n  {\n    text: \"team 4\",\n    value: \"team 4\",\n  },\n  {\n    text: \"team 5\",\n    value: \"team 5\",\n  },\n];\n\nexport default function Hourly(props) {\n  const [currency, setCurrency] = useState(\n    props.selectedProject.currencyCode ? props.selectedProject.currencyCode : \"\"\n  );\n  const [proposingAmount, setProposingAmount] = useState(\"\");\n  const [proposalHours, setProposalHours] = useState(\"\");\n  const [termsFlag, setTermsFlag] = useState(false);\n  const [freelancerType, setFreelancerType] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [isProbationAccepted, setIsProbationAccepted] = useState(false);\n  const [errMsg, setErrMsg] = useState({});\n  const [selectedTeams, setSelectedTeams] = useState([\n    {\n      teamName: \"\",\n      teamMembers: [],\n    },\n  ]);\n  const [SelectedFreelancer, setSelectedFreelancer] = useState([]);\n  const dispatch = useDispatch();\n\n  const languageType = useSelector(\n    (state) => state.languageReducer.languageType\n  );\n  const languageReducer = useSelector((state) => state.languageReducer);\n\n  const authReducer = useSelector((state) => state.authReducer);\n\n  React.useEffect(() => {\n    if (authReducer.freelancerAuth) {\n      setFreelancerType(\"Freelancer\");\n    }\n    if (authReducer.organizationAuth) {\n      setFreelancerType(\"Company\");\n    }\n  }, [authReducer.freelancerAuth, authReducer.organizationAuth]);\n\n  const handleValidation = () => {\n    let errorMessage = {};\n    let { proposalData, languageType } = props;\n    let formIsValid = true;\n    if (!proposalData.coverLetter) {\n      formIsValid = false;\n      props.handleInitialValidation(\"coverLetter\");\n    } else if (!proposalData.description) {\n      formIsValid = false;\n      props.handleInitialValidation(\"description\");\n    } else if (!currency) {\n      formIsValid = false;\n      errorMessage[\"currency\"] = languageType.REQUIRED_MESSAGE;\n    } else if (!proposalHours) {\n      formIsValid = false;\n      errorMessage[\"proposalHours\"] = languageType.REQUIRED_MESSAGE;\n    } else if (freelancerType === \"Freelancer\" && !proposingAmount) {\n      formIsValid = false;\n      errorMessage[\"proposingAmount\"] = languageType.REQUIRED_MESSAGE;\n    } else if (!termsFlag) {\n      formIsValid = false;\n      errorMessage[\"termsFlag\"] = languageType.REQUIRED_MESSAGE;\n    } else if (\n      freelancerType === \"Company\" &&\n      props.companyFreelancers.length < 1\n    ) {\n      formIsValid = false;\n      notifications.showWarning(\"You need at least freelance for proposal\");\n    } else if (freelancerType === \"Company\" && SelectedFreelancer.length < 1) {\n      formIsValid = false;\n      notifications.showWarning(\"You need to select at least one freelancer!\");\n    }\n\n    setErrMsg(errorMessage);\n    return formIsValid;\n  };\n  const handleUpdateTermsFlag = (value) => {\n    if (value) {\n      let errMsgs = errMsg;\n      delete errMsgs.termsFlag;\n      setErrMsg(errMsgs);\n    } else {\n      let errMsgs = errMsg;\n      errMsgs[\"termsFlag\"] = props.languageType.REQUIRED_MESSAGE;\n      setErrMsg(errMsgs);\n    }\n    setTermsFlag(value);\n  };\n  const handleUpdateIsProbation = (value) => {\n    setIsProbationAccepted(value);\n  };\n\n  React.useEffect(() => {\n    let {\n      hoursPerWeek,\n      hourlyAmount,\n      amountPerDay,\n      weekDays,\n      daysAttendingPerWeek,\n      isProbationAccepted,\n    } = props.existingProposalData;\n    setProposalHours(hoursPerWeek);\n    setProposingAmount(hourlyAmount);\n    setIsProbationAccepted(isProbationAccepted);\n  }, [props.existingProposalData]);\n\n  // submit proposal\n\n  const handleProposalSubmit = async () => {\n    let { proposalData, selectedProject } = props;\n    if (handleValidation()) {\n      let params = {\n        projectId: proposalData.projectId,\n        freelancerReferenceId: proposalData.userId,\n        freelancerType: selectedProject.freelancerType,\n        projectProposalId: proposalData.projectProposalId,\n        proposedDateTime: \"\",\n        description: proposalData.description,\n        coverLetter: proposalData.coverLetter,\n        screeningQuestions:\n          proposalData.screeningQuestionList.length > 0\n            ? JSON.stringify(proposalData.screeningQuestionList)\n            : \"\",\n        isProbationAccepted: isProbationAccepted,\n        daysAttendingPerWeek: \"\",\n        amountPerDay: \"\",\n        hoursPerWeek: proposalHours?.toString(),\n        hourlyAmount: proposingAmount?.toString(),\n        documents:props.documents,\n        estimateCompleteDateTime: \"\",\n        amount: \"\",\n        milestones: \"\",\n        currencyCode: currency,\n        offerProjectPeriod: \"\",\n        offeredMilestones: [],\n        freelancers: SelectedFreelancer.length>0?SelectedFreelancer.map((item)=>({\n          individualFreelancerId: item.individualFreelancerId,\n            attendHourOfWeek: proposalHours,\n            hourlyRate: item.hourlyRate,\n        })):null\n      };\n      setLoading(true);\n      let result = await request(\n        proposalData.projectProposalId\n          ? ENDPOINT[\"UpdateProposal\"]\n          : ENDPOINT[\"CreateProposal\"],\n        postOptions(params)\n      );\n\n      if (result.success) {\n        if (result) {\n          setLoading(false);\n          store.addNotification({\n            title: `Proposal ${\n              proposalData.projectProposalId ? \"Updated\" : \"Submitted\"\n            } Successfully `,\n            message: `Proposal  successfully ${\n              proposalData.projectProposalId ? \"Updated\" : \"Submitted\"\n            }  hourly project`,\n            type: \"success\",\n            insert: \"top\",\n            container: \"top-center\",\n            animationIn: [\"animate__animated\", \"animate__fadeIn\"],\n            animationOut: [\"animate__animated\", \"animate__fadeOut\"],\n            dismiss: {\n              duration: 2000,\n              onScreen: true,\n            },\n          });\n          let newurl = `project-proposal-detail?id=${proposalData.projectId}&projectProposalId=${result.result}`;\n          props.onRouteChange(\"project-proposal-detail\");\n          props.history.push(newurl);\n        } else {\n          store.addNotification({\n            title: \"Error \",\n            message: result.message,\n            type: \"warning\",\n            insert: \"top\",\n            container: \"top-center\",\n            animationIn: [\"animate__animated\", \"animate__fadeIn\"],\n            animationOut: [\"animate__animated\", \"animate__fadeOut\"],\n            dismiss: {\n              duration: 2000,\n              onScreen: true,\n            },\n          });\n          setLoading(false);\n        }\n      }\n    }\n  };\n\n  /*   console.log(languageReducer, \"languageReducer12\"); */\n\n  return (\n    <div className=\"milestone_project_proposal_area\">\n      <div className=\"milestone_project_proposal_detail\">\n        {/* <Label title={\"Propose Description\"} compulsory={true} /> */}\n        <div className=\"row\">\n          <div\n            className=\"col-12 col-md-3\"\n            hidden={freelancerType === \"Company\"}\n          >\n            <DropdownList\n              id=\"currency\"\n              name=\"currency\"\n              enableAutoCompleteSearch\n              placeHolder=\"Select currency\"\n              value={currency}\n              items={languageReducer.currencies}\n              selectItem={(value) => {\n                setCurrency(value);\n                let errMsgs = errMsg;\n                delete errMsgs.currency;\n                setErrMsg(errMsgs);\n              }}\n            />\n            {errMsg.currency && (\n              <p className=\"text-danger\">{errMsg.currency}</p>\n            )}\n          </div>\n          <div\n            className=\"col-12 col-md-4\"\n            hidden={freelancerType === \"Company\"}\n          >\n            <div className=\"input_proposal_area_detail\">\n              <DropdownList\n                id=\"ProposingAmount\"\n                name=\"ProposingAmount\"\n                enableAutoCompleteSearch\n                placeHolder=\"Proposing Amount\"\n                value={proposingAmount}\n                items={currency ? GetAmountPerHour(currency) : []}\n                selectItem={(value) => {\n                  setProposingAmount(value);\n                  let errMsgs = errMsg;\n                  delete errMsgs.proposingAmount;\n                  setErrMsg(errMsgs);\n                }}\n              />\n            </div>\n\n            {errMsg.proposingAmount && (\n              <p className=\"text-danger\">{errMsg.proposingAmount}</p>\n            )}\n          </div>\n          <div\n            hidden={freelancerType === \"Company\"}\n            className=\"col-12 col-md-3 proposal_hours_unit\"\n            style={{ marginTop: \"0px\" }}\n          >\n            per hour\n          </div>\n          {/*  <div className=\"col-12 col-md-5 completionTime-box\" >\n      <Label title={\"Estimated Project Completion\"} compulsory={true} />\n            <DropdownList\n              id=\"completionTime\"\n              name=\"completionTime\"\n              placeholder=\"Select completion Time\"\n              value={completionTime}\n              items={languageReducer.projectCompletionTime}\n              selectItem={(value) => {\n                setCompletionTime(value);\n              }}\n            />\n          </div>\n */}\n          {/* projectCompletionTime */}\n        </div>\n        <br />\n        <div className=\"row\">\n          <div className=\"col-12 col-md-4\">\n            <Label title={\"Proposing Hours Per Week\"} compulsory={true} />\n            <DropdownList\n              id=\"proposalHours\"\n              name=\"proposalHours\"\n              enableAutoCompleteSearch\n              placeHolder=\"Select Hours\"\n              value={proposalHours}\n              items={[\n                {\n                  text: languageType.NO_TEN_TEXT,\n                  value: \"10\",\n                },\n                {\n                  text: languageType.NO_TWENTY_TEXT,\n                  value: \"20\",\n                },\n                {\n                  text: languageType.NO_THIRTY_TEXT,\n                  value: \"30\",\n                },\n                {\n                  text: languageType.NO_FOURTY_TEXT,\n                  value: \"40\",\n                },\n                {\n                  text: languageType.NO_FIFTY_TEXT,\n                  value: \"50\",\n                },\n                {\n                  text: languageType.NO_UNLIMITED_TEXT,\n                  value: \"60\",\n                },\n              ]}\n              selectItem={(value) => {\n                setProposalHours(value);\n                let errMsgs = errMsg;\n                delete errMsgs.proposalHours;\n                setErrMsg(errMsgs);\n              }}\n            />\n            {errMsg.proposalHours && (\n              <p className=\"text-danger\">{errMsg.proposalHours}</p>\n            )}\n          </div>\n          <div className=\"col-12 col-md-3 proposal_hours_unit\">per week</div>\n        </div>\n      </div>\n      <div hidden={freelancerType === \"Freelancer\"}>\n        <FreelancerSelection\n          teams={teams}\n          setSelectedTeams={setSelectedTeams}\n          selectedTeams={selectedTeams}\n          teamMembers={props.companyFreelancers}\n          proposingAmountHourly={proposingAmount}\n          type={\"Hourly\"}\n          setSelectedFreelancer={setSelectedFreelancer}\n          SelectedFreelancer={SelectedFreelancer}\n        />\n      </div>\n\n      <div\n        className=\"checkbox_area_for_mile_stone_bid\"\n        style={{ margin: \"5px 0px 0px -5px\" }}\n      >\n        <input\n          className=\"custom-checkbox-styled\"\n          onChange={(e) => handleUpdateIsProbation(e.target.checked)}\n          checked={isProbationAccepted}\n          id=\"styled-checkbox-week-probation\"\n          type=\"checkbox\"\n          value={isProbationAccepted}\n        />\n        <label for=\"styled-checkbox-week-probation\">\n          Do you accept 2 weeks probation period?\n        </label>\n      </div>\n      <div\n        className=\"checkbox_area_for_mile_stone_bid\"\n        style={{ margin: \"5px 0px 0px -5px\" }}\n      >\n        <input\n          className=\"custom-checkbox-styled\"\n          onChange={(e) => handleUpdateTermsFlag(e.target.checked)}\n          checked={termsFlag}\n          id=\"styled-checkbox-week-terms\"\n          type=\"checkbox\"\n          value={termsFlag}\n        />\n        <label for=\"styled-checkbox-week-terms\">\n          {\" \"}\n          Have you read the terms and conditions? If not, please click here\n        </label>\n      </div>\n      {errMsg.termsFlag && <p className=\"text-danger\">{errMsg.termsFlag}</p>}\n\n      <div className=\"proposal_submit_area\">\n        <button disabled={loading} onClick={handleProposalSubmit}>\n        {props.proposalData.projectProposalId?\"Update\":\"Propose\"}  {loading ? <i className=\"fa fa-spinner fa-spin\"></i> : \"\"}\n        </button>\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}