{"ast":null,"code":"var _jsxFileName = \"/var/www/php74/bearolefrontend/src/components/modals/endContract.jsx\";\nimport React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport notifications from \"../../utils/notifications\";\nimport request from \"../../utils/request\";\nimport { ENDPOINT } from \"../../utils/endpoint\";\nimport { getOptions, postOptions } from \"../../utils/httpConfig\";\nexport const EndContract = props => {\n  const history = useHistory();\n  const [loading, setLoading] = useState(false);\n\n  const handlePay = async () => {\n    var _props$userProfile, _props$userProfile2;\n\n    setLoading(true);\n    let individualFreelancerId = (_props$userProfile = props.userProfile) === null || _props$userProfile === void 0 ? void 0 : _props$userProfile.individualFreelancerId;\n    let projectContractId = props.contractDetail.projectContractId;\n    let clientId = props.contractDetail.client.clientId;\n    let projectId = props.projectDetail.projectId;\n    let type = sessionStorage.userType === \"Client\" ? ((_props$userProfile2 = props.userProfile) === null || _props$userProfile2 === void 0 ? void 0 : _props$userProfile2.individualFreelancerId) ? 'freelancer' : 'company' : 'client';\n    let result = await request(`${ENDPOINT[\"EndContract\"]}?projectContractId=${projectContractId}&clientId=${clientId}`, getOptions({}));\n\n    if (result.success) {\n      setLoading(false);\n      notifications.showSuccess(\"Contract is successfully closed\");\n      history.push(`/evaluation?projectId=${projectId}&type=${type}`, {\n        contractDetail: props.contractDetail\n      });\n      props.handleClose();\n    } else {\n      setLoading(false);\n      notifications.showError(\"Error occurred please try again later\");\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"end_contract\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"h3\",\n    style: {\n      fontWeight: \"bolder\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }, \"End Contract\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }, \"Are you sure you want to end this contract?\", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 11\n    }\n  }), \"You'll be prompted to provide feedback and make any final payments in the following steps\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"save_cancel text-center mb-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn save_btn\",\n    onClick: handlePay,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 11\n    }\n  }, \"Pay \", \" \", loading ? /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-spinner fa-spin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 32\n    }\n  }) : \"\"), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn cancel_btn\",\n    onClick: props.handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }\n  }, \"Cancel\"))));\n};","map":{"version":3,"sources":["/var/www/php74/bearolefrontend/src/components/modals/endContract.jsx"],"names":["React","useState","useHistory","notifications","request","ENDPOINT","getOptions","postOptions","EndContract","props","history","loading","setLoading","handlePay","individualFreelancerId","userProfile","projectContractId","contractDetail","clientId","client","projectId","projectDetail","type","sessionStorage","userType","result","success","showSuccess","push","handleClose","showError","fontWeight"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,aAAP,MAA0B,2BAA1B;AACA,OAAOC,OAAP,MAAoB,qBAApB;AACA,SAASC,QAAT,QAAyB,sBAAzB;AACA,SAASC,UAAT,EAAqBC,WAArB,QAAwC,wBAAxC;AAEA,OAAO,MAAMC,WAAW,GAAIC,KAAD,IAAW;AACpC,QAAMC,OAAO,GAAGR,UAAU,EAA1B;AACA,QAAM,CAACS,OAAD,EAAUC,UAAV,IAAwBX,QAAQ,CAAC,KAAD,CAAtC;;AAEA,QAAMY,SAAS,GAAE,YAAY;AAAA;;AAC3BD,IAAAA,UAAU,CAAC,IAAD,CAAV;AACA,QAAIE,sBAAsB,yBAAGL,KAAK,CAACM,WAAT,uDAAG,mBAAmBD,sBAAhD;AACA,QAAIE,iBAAiB,GAAGP,KAAK,CAACQ,cAAN,CAAqBD,iBAA7C;AACA,QAAIE,QAAQ,GAAGT,KAAK,CAACQ,cAAN,CAAqBE,MAArB,CAA4BD,QAA3C;AACA,QAAIE,SAAS,GAACX,KAAK,CAACY,aAAN,CAAoBD,SAAlC;AACA,QAAIE,IAAI,GAACC,cAAc,CAACC,QAAf,KAA0B,QAA1B,GAAmC,wBAAAf,KAAK,CAACM,WAAN,4EAAmBD,sBAAnB,IAA0C,YAA1C,GAAuD,SAA1F,GAAoG,QAA7G;AACA,QAAIW,MAAM,GAAG,MAAMrB,OAAO,CACvB,GAAEC,QAAQ,CAAC,aAAD,CAAgB,sBAAqBW,iBAAkB,aAAYE,QAAS,EAD/D,EAExBZ,UAAU,CAAC,EAAD,CAFc,CAA1B;;AAIA,QAAImB,MAAM,CAACC,OAAX,EAAoB;AAClBd,MAAAA,UAAU,CAAC,KAAD,CAAV;AACAT,MAAAA,aAAa,CAACwB,WAAd,CAA0B,iCAA1B;AACAjB,MAAAA,OAAO,CAACkB,IAAR,CAAc,yBAAwBR,SAAU,SAAQE,IAAK,EAA7D,EAAgE;AAC9DL,QAAAA,cAAc,EAAER,KAAK,CAACQ;AADwC,OAAhE;AAGAR,MAAAA,KAAK,CAACoB,WAAN;AACD,KAPD,MAOO;AACLjB,MAAAA,UAAU,CAAC,KAAD,CAAV;AACAT,MAAAA,aAAa,CAAC2B,SAAd,CAAwB,uCAAxB;AACD;AACF,GAtBD;;AAuBA,sBACE,uDACE;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAI,IAAA,SAAS,EAAC,IAAd;AAAmB,IAAA,KAAK,EAAE;AAAEC,MAAAA,UAAU,EAAE;AAAd,KAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iEAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,8FAJF,eAUE;AAAK,IAAA,SAAS,EAAC,8BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAsB,IAAA,SAAS,EAAC,cAAhC;AAA+C,IAAA,OAAO,EAAElB,SAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACO,GADP,EAEWF,OAAO,gBAAG;AAAG,IAAA,SAAS,EAAC,uBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAH,GAA+C,EAFjE,CADF,eAKE;AACE,IAAA,IAAI,EAAC,QADP;AAEE,IAAA,SAAS,EAAC,gBAFZ;AAGE,IAAA,OAAO,EAAEF,KAAK,CAACoB,WAHjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cALF,CAVF,CADF,CADF;AA4BD,CAvDM","sourcesContent":["import React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport notifications from \"../../utils/notifications\";\nimport request from \"../../utils/request\";\nimport { ENDPOINT } from \"../../utils/endpoint\";\nimport { getOptions, postOptions } from \"../../utils/httpConfig\";\n\nexport const EndContract = (props) => {\n  const history = useHistory();\n  const [loading, setLoading] = useState(false);\n\n  const handlePay =async () => {\n    setLoading(true);\n    let individualFreelancerId = props.userProfile?.individualFreelancerId;\n    let projectContractId = props.contractDetail.projectContractId;\n    let clientId = props.contractDetail.client.clientId;\n    let projectId=props.projectDetail.projectId\n    let type=sessionStorage.userType===\"Client\"?props.userProfile?.individualFreelancerId?'freelancer':'company':'client'\n    let result = await request(\n      `${ENDPOINT[\"EndContract\"]}?projectContractId=${projectContractId}&clientId=${clientId}`,\n      getOptions({})\n    );\n    if (result.success) {\n      setLoading(false);\n      notifications.showSuccess(\"Contract is successfully closed\");\n      history.push(`/evaluation?projectId=${projectId}&type=${type}`, {\n        contractDetail: props.contractDetail,\n      });\n      props.handleClose();\n    } else {\n      setLoading(false);\n      notifications.showError(\"Error occurred please try again later\");\n    }\n  };\n  return (\n    <>\n      <div className=\"end_contract\">\n        <h4 className=\"h3\" style={{ fontWeight: \"bolder\" }}>\n          End Contract\n        </h4>\n        <p>\n          Are you sure you want to end this contract?\n          <br />\n          You'll be prompted to provide feedback and make any final payments in\n          the following steps\n        </p>\n        <div className=\"save_cancel text-center mb-0\">\n          <button type=\"button\" className=\"btn save_btn\" onClick={handlePay}>\n            Pay {\" \"}\n                    {loading ? <i className=\"fa fa-spinner fa-spin\"></i> : \"\"}\n          </button>\n          <button\n            type=\"button\"\n            className=\"btn cancel_btn\"\n            onClick={props.handleClose}\n          >\n            Cancel\n          </button>\n        </div>\n      </div>\n    </>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}