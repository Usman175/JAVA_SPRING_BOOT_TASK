{"ast":null,"code":"var _jsxFileName = \"/var/www/php74/bearolefrontend/src/container/freelancer/contractDetail/sharedComponents/contractDetail.js\";\nimport React, { useEffect, useState } from \"react\";\nimport \"../contractDetail.scss\";\nimport Format from \"../../../../components/numberFormat\";\nimport { UserView } from \"../../../../components/freelancer/userView\";\nimport moment from \"moment\";\nimport { useSelector } from \"react-redux\";\nimport request from \"../../../../utils/request\";\nimport { ENDPOINT } from \"../../../../utils/endpoint\";\nimport { getOptions, postOptions } from \"../../../../utils/httpConfig\";\nimport Skeleton from \"../../../../components/skeleton/skeleton\";\nimport Pagination from \"../../../../components/pagination\";\nimport notifications from \"../../../../utils/notifications\";\nimport NoDataAvailable from \"../../../../shared/error/not-data-available-new\";\n\nfunction ContractDetail(props) {\n  var _props$contractDetail, _props$contractDetail2, _props$contractDetail3, _props$contractDetail4, _props$contractDetail5, _props$contractDetail6, _user$clientAuth, _user$clientAuth2;\n\n  const [unpaidAmount, setUnpaidAmount] = useState(0.0);\n  const [isContractDetailSectionExpanded, setIsContractDetailSectionExpanded] = useState(true);\n  const [contractStats, setContractStats] = useState({\n    rate: ((_props$contractDetail = props.contractDetail) === null || _props$contractDetail === void 0 ? void 0 : _props$contractDetail.finalizedHourlyRate) ? (_props$contractDetail2 = props.contractDetail) === null || _props$contractDetail2 === void 0 ? void 0 : _props$contractDetail2.finalizedHourlyRate : 0,\n    weekLimit: ((_props$contractDetail3 = props.contractDetail) === null || _props$contractDetail3 === void 0 ? void 0 : _props$contractDetail3.finalizedHourOfWeek) ? (_props$contractDetail4 = props.contractDetail) === null || _props$contractDetail4 === void 0 ? void 0 : _props$contractDetail4.finalizedHourOfWeek : 0,\n    dailyRate: props.projectDetail.projectType === \"OfficeWork\" && ((_props$contractDetail5 = props.contractDetail) === null || _props$contractDetail5 === void 0 ? void 0 : _props$contractDetail5.finalizedSalarayAmount) ? (_props$contractDetail6 = props.contractDetail) === null || _props$contractDetail6 === void 0 ? void 0 : _props$contractDetail6.finalizedSalarayAmount : props.contractDetail.finalizedDailyRate ? props.contractDetail.finalizedDailyRate : 0,\n    milestoneAmount: props.contractDetail.finalizedMilestoneAmount ? props.contractDetail.finalizedMilestoneAmount : '0'\n  });\n  const [isRateEditable, setIsRateEditable] = useState(false);\n  const [isDailyRateEditable, setIsDailyRateEditable] = useState(false);\n  const [isWeekLimitEditable, setIsWeekLimitEditable] = useState(false);\n  const [isMilestoneAmountEditable, setIsMilestoneAmountEditable] = useState(false);\n  const [isManualTimeAllow, setIsManualTimeAllow] = useState(true);\n  const [projectHistory, setProjectHistory] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [pagination, setPagination] = useState({\n    pageSize: 10,\n    pageNumber: 1,\n    total: 10\n  });\n  const [contractHistoryData, setContractHistoryData] = useState([]);\n  const [contractHistoryLoading, setContractHistoryLoading] = useState(false);\n  const user = useSelector(state => state.authReducer);\n\n  const onExpansionChange = () => {\n    setIsContractDetailSectionExpanded(!isContractDetailSectionExpanded);\n  };\n\n  useEffect(() => {\n    if (props.contractDetail.projectContractId) {\n      var _props$contractDetail7, _props$contractDetail8;\n\n      setContractStats({ ...contractStats,\n        milestoneAmount: props.contractDetail.finalizedMilestoneAmount,\n        dailyRate: props.projectDetail.projectType === \"OfficeWork\" && ((_props$contractDetail7 = props.contractDetail) === null || _props$contractDetail7 === void 0 ? void 0 : _props$contractDetail7.finalizedSalarayAmount) ? (_props$contractDetail8 = props.contractDetail) === null || _props$contractDetail8 === void 0 ? void 0 : _props$contractDetail8.finalizedSalarayAmount : props.contractDetail.finalizedDailyRate ? props.contractDetail.finalizedDailyRate : 0,\n        rate: props.contractDetail.finalizedHourlyRate,\n        weekLimit: props.contractDetail.finalizedHourOfWeek\n      });\n    }\n\n    if (props.contractDetail.projectContractId) {\n      getContractHistory();\n    }\n  }, [props.contractDetail]);\n\n  const onEditIconClick = name => {\n    if (name === \"isRateEditable\") {\n      document.getElementsByName(\"rate\")[0] && document.getElementsByName(\"rate\")[0].focus();\n      setIsRateEditable(!isRateEditable);\n      setIsDailyRateEditable(false);\n    } else if (name === \"isDailyRateEditable\") {\n      document.getElementsByName(\"dailyRate\")[0] && document.getElementsByName(\"dailyRate\")[0].focus();\n      setIsDailyRateEditable(!isRateEditable);\n      setIsRateEditable(false);\n    } else if (name === \"isWeekLimitEditable\") {\n      document.getElementsByName(\"weekLimit\")[0] && document.getElementsByName(\"weekLimit\")[0].focus();\n      setIsWeekLimitEditable(!isWeekLimitEditable);\n    }\n  };\n\n  const onTextHandleChange = (e, type) => {\n    if (type === \"weekLimit\") {\n      setContractStats({ ...contractStats,\n        weekLimit: e.target.value\n      });\n    } else {\n      setContractStats({ ...contractStats,\n        [type]: e.target.value\n      });\n    }\n  };\n\n  const getContractHistory = async move => {\n    var _props$userProfile;\n\n    let userId = (_props$userProfile = props.userProfile) === null || _props$userProfile === void 0 ? void 0 : _props$userProfile.userId;\n    let projectContractId = props.contractDetail.projectContractId;\n    let projectId = props.projectDetail.projectId;\n    let pageNumber = pagination.pageNumber;\n    setContractHistoryLoading(true);\n\n    if (move === \"next\") {\n      setPagination({ ...pagination,\n        pageNumber: pagination.pageNumber + 1\n      });\n      pageNumber = pageNumber + 1;\n    } else if (move === \"prev\") {\n      setPagination({ ...pagination,\n        pageNumber: pagination.pageNumber - 1\n      });\n      pageNumber = pageNumber - 1;\n    }\n\n    let result = await request(`${ENDPOINT[\"GetProjectContractHistory\"]}?projectContractId=${projectContractId}&userId=${userId}&projectId=${projectId}&pageNumber=${pageNumber}&pageSize=${pagination.pageSize}`, getOptions({}));\n\n    if (result.success) {\n      setContractHistoryData(result.result.entries);\n      setPagination({\n        pageNumber: result.result.pageNumber || result.result.pageNumer,\n        pageSize: result.result.pageSize,\n        total: result.result.total\n      });\n      setContractHistoryLoading(false);\n    } else {}\n\n    setContractHistoryLoading(false);\n  };\n\n  const saveChangesContract = async () => {\n    let param;\n\n    if (props.projectDetail.projectType === \"Hourly\") {\n      param = {\n        projectId: props.projectDetail.projectId,\n        projectContractId: props.contractDetail.projectContractId,\n        finalizedHourlyRate: contractStats.rate,\n        finalizedHourOfWeek: contractStats.weekLimit,\n        allowManualTimeLog: isManualTimeAllow,\n        finalizedMilestoneAmount: '',\n        finalizedDailyRate: ''\n      };\n    }\n\n    if (props.projectDetail.projectType === \"FreeContract\") {\n      param = {\n        projectId: props.projectDetail.projectId,\n        projectContractId: props.contractDetail.projectContractId,\n        finalizedHourlyRate: contractStats.rate,\n        finalizedHourOfWeek: contractStats.weekLimit,\n        allowManualTimeLog: isManualTimeAllow,\n        finalizedMilestoneAmount: '',\n        finalizedDailyRate: contractStats.dailyRate\n      };\n    }\n\n    if (props.projectDetail.projectType === \"Milestone\") {\n      param = {\n        projectId: props.projectDetail.projectId,\n        projectContractId: props.contractDetail.projectContractId,\n        finalizedHourlyRate: '',\n        finalizedHourOfWeek: '',\n        finalizedMilestoneAmount: contractStats.milestoneAmount,\n        finalizedDailyRate: ''\n      };\n    }\n\n    if (props.projectDetail.projectType === \"OfficeWork\") {\n      param = {\n        projectId: props.projectDetail.projectId,\n        projectContractId: props.contractDetail.projectContractId,\n        finalizedHourlyRate: '',\n        finalizedHourOfWeek: '',\n        finalizedMilestoneAmount: '',\n        finalizedDailyRate: contractStats.dailyRate\n      };\n    }\n\n    setLoading(true);\n    let result = await request(`${ENDPOINT[\"UpdateContractCondition\"]}`, postOptions(param));\n\n    if (result.success) {\n      notifications.showSuccess(\"Contract updated successfully\");\n      let contractDetailNew = props.contractDetail;\n      contractDetailNew.finalizedHourlyRate = contractStats.rate;\n      contractDetailNew.finalizedDailyRate = contractStats.dailyRate;\n      contractDetailNew.finalizedHourOfWeek = contractStats.weekLimit;\n      contractDetailNew.finalizedMilestoneAmount = contractStats.milestoneAmount;\n      contractDetailNew.allowManualTimeLog = isManualTimeAllow;\n\n      if (props.projectDetail.projectType === \"Hourly\") {\n        props.history.push({\n          pathname: '/hourly-contract-detail-freelancer',\n          state: contractDetailNew\n        });\n      }\n\n      if (props.projectDetail.projectType === \"OfficeWork\") {\n        props.history.push({\n          pathname: '/office-contract-detail-freelancer',\n          state: contractDetailNew\n        });\n      }\n\n      if (props.projectDetail.projectType === \"FreeContract\") {\n        props.history.push({\n          pathname: '/free-contract-detail-freelancer',\n          state: contractDetailNew\n        });\n      }\n\n      if (props.projectDetail.projectType === \"Milestone\") {\n        props.history.push({\n          pathname: '/milestone-contract-detail-freelancer',\n          state: contractDetailNew\n        });\n      }\n\n      getContractHistory();\n      setLoading(false);\n    } else {\n      setLoading(false);\n      notifications.showError(\"Some Error occurred please try again later\");\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(UserView, Object.assign({\n    projectDetail: props.projectDetail // handlePauseContract={this.handlePauseContract}\n    ,\n    unpaidAmount: /*#__PURE__*/React.createElement(Format, {\n      number: unpaidAmount,\n      currency: props.projectDetail.currencyCode,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 11\n      }\n    }),\n    contractDetail: props.contractDetail,\n    timeAndPaymentsTab: true,\n    userProfile: props === null || props === void 0 ? void 0 : props.userProfile\n  }, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 7\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"hourly_limit post_form hourly_report\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"position_rel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"viewDetail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: \"plus_btn\",\n    \"aria-expanded\": isContractDetailSectionExpanded,\n    onClick: () => onExpansionChange(\"isContractDetailSectionExpanded\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 15\n    }\n  }, \"+\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: isContractDetailSectionExpanded ? \"collapse show\" : \"collapse\",\n    id: \"collapseExample4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    hidden: true,\n    className: \"work_date\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    title: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-angle-left\",\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 13\n    }\n  }, moment(props.projectDetail.postDateTime).format(\"dddd, MMM D, YYYY\")), /*#__PURE__*/React.createElement(\"a\", {\n    title: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-angle-right\",\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"hourly_rate basic_font\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row align-items-end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 15\n    }\n  }, props.projectDetail.projectType != \"OfficeWork\" && props.projectDetail.projectType != \"Milestone\" && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 121\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"green_text feedbk_lbl\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 19\n    }\n  }, \"Hourly Rate:\"), isRateEditable ? /*#__PURE__*/React.createElement(\"span\", {\n    className: \"rate_box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"rate\",\n    id: \"hourly-rate-update\",\n    value: contractStats.rate,\n    autoFocus: true,\n    className: \"rate_box_select form-control border-0 py-0 font-weight-bold\",\n    onChange: e => onTextHandleChange(e, \"rate\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 23\n    }\n  })) : /*#__PURE__*/React.createElement(\"span\", {\n    className: \"rate_box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 21\n    }\n  }, \"$\", contractStats.rate), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 19\n    }\n  }, \"Per Hour\"), /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-pencil\",\n    \"aria-hidden\": \"true\",\n    onClick: () => onEditIconClick(\"isRateEditable\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 19\n    }\n  })), props.projectDetail.projectType != \"Hourly\" && props.projectDetail.projectType != \"Milestone\" && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"green_text feedbk_lbl\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 21\n    }\n  }, \"Daily Rate:\"), isDailyRateEditable ? /*#__PURE__*/React.createElement(\"span\", {\n    className: \"rate_box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"dailyRate\",\n    autoFocus: true,\n    value: contractStats.dailyRate,\n    className: \"rate_box_select form-control border-0 py-0 font-weight-bold\",\n    onChange: e => onTextHandleChange(e, \"dailyRate\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 25\n    }\n  })) : /*#__PURE__*/React.createElement(\"span\", {\n    className: \"rate_box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 23\n    }\n  }, \"$\", contractStats.dailyRate), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 328,\n      columnNumber: 21\n    }\n  }, \"Per day\"), /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-pencil\",\n    \"aria-hidden\": \"true\",\n    onClick: () => onEditIconClick(\"isDailyRateEditable\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 329,\n      columnNumber: 21\n    }\n  })), (props.projectDetail.projectType === \"FreeContract\" || props.projectDetail.projectType === \"Hourly\") && props.projectDetail.projectType != \"Milestone\" && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"green_text feedbk_lbl\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 341,\n      columnNumber: 23\n    }\n  }, \"Weekly Limit :\"), isWeekLimitEditable ? /*#__PURE__*/React.createElement(\"span\", {\n    className: \"rate_box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 345,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    autoFocus: true,\n    name: \"weekLimit\",\n    value: contractStats.weekLimit,\n    className: \"rate_box_select form-control border-0 py-0 font-weight-bold\",\n    onChange: e => onTextHandleChange(e, \"weekLimit\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 27\n    }\n  })) : /*#__PURE__*/React.createElement(\"span\", {\n    className: \"rate_box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 356,\n      columnNumber: 25\n    }\n  }, contractStats.weekLimit), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 360,\n      columnNumber: 23\n    }\n  }, \"Per Week\"), /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-pencil\",\n    \"aria-hidden\": \"true\",\n    onClick: () => onEditIconClick(\"isWeekLimitEditable\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 23\n    }\n  })), props.projectDetail.projectType === \"Milestone\" && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 369,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"green_text feedbk_lbl\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 370,\n      columnNumber: 21\n    }\n  }, \"Milestone amount:\"), isMilestoneAmountEditable ? /*#__PURE__*/React.createElement(\"span\", {\n    className: \"rate_box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 374,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"weekLimit\",\n    autoFocus: true,\n    value: contractStats.milestoneAmount,\n    className: \"rate_box_select form-control border-0 py-0 font-weight-bold\",\n    onChange: e => onTextHandleChange(e, \"milestoneAmount\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 375,\n      columnNumber: 25\n    }\n  })) : /*#__PURE__*/React.createElement(\"span\", {\n    className: \"rate_box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 385,\n      columnNumber: 23\n    }\n  }, \"US$ \", contractStats.milestoneAmount), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 389,\n      columnNumber: 21\n    }\n  }, \" \"), /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-pencil\",\n    \"aria-hidden\": \"true\",\n    onClick: () => setIsMilestoneAmountEditable(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 390,\n      columnNumber: 21\n    }\n  })), props.projectDetail.projectType != \"Milestone\" && props.projectDetail.projectType != \"OfficeWork\" && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 398,\n      columnNumber: 120\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"green_text feedbk_lbl feedbk_lbl_manualTimeMobile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 399,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-question-circle\",\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 400,\n      columnNumber: 23\n    }\n  }), \"Manual Time :\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"rate_box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 404,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    name: \"manualTime\",\n    className: \"rate_box_select form-control border-0 py-0 font-weight-bold\",\n    style: {\n      padding: \".375rem 0.55rem\"\n    },\n    value: isManualTimeAllow,\n    onChange: e => {\n      setIsManualTimeAllow(e.target.value === \"true\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 405,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 414,\n      columnNumber: 25\n    }\n  }, \"Allowed\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 415,\n      columnNumber: 25\n    }\n  }, \"Disallowed\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 421,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"green_text feedbk_lbl\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 422,\n      columnNumber: 19\n    }\n  }, \"Start Date:\"), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 423,\n      columnNumber: 19\n    }\n  }, moment(props.contractDetail.contractCreatedDateTime).format(\"D MMM YYYY\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 429,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"green_text feedbk_lbl\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 430,\n      columnNumber: 19\n    }\n  }, \"Hired By :\"), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 431,\n      columnNumber: 19\n    }\n  }, ((_user$clientAuth = user.clientAuth) === null || _user$clientAuth === void 0 ? void 0 : _user$clientAuth.firstName) + \" \" + ((_user$clientAuth2 = user.clientAuth) === null || _user$clientAuth2 === void 0 ? void 0 : _user$clientAuth2.lastName) || \"Sonny Cho\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 433,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"green_text feedbk_lbl\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 434,\n      columnNumber: 19\n    }\n  }, \"Contract ID:\"), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 435,\n      columnNumber: 19\n    }\n  }, props.contractDetail.contractCode || \"00000000000\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 440,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"save_cancel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 441,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn save_btn\",\n    onClick: () => saveChangesContract(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 442,\n      columnNumber: 19\n    }\n  }, \"Save Changes\", \" \", loading ? /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-spinner fa-spin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 448,\n      columnNumber: 32\n    }\n  }) : \"\"))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"work_detail contract_detail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 454,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 455,\n      columnNumber: 13\n    }\n  }, \"View History of Contract Changes\"), /*#__PURE__*/React.createElement(Skeleton, {\n    count: 2,\n    isSkeletonLoading: contractHistoryLoading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 456,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    hidden: contractHistoryLoading,\n    className: \"contract_tbl\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 460,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"table-responsive detail_tbl\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 461,\n      columnNumber: 15\n    }\n  }, contractHistoryData.length > 0 ? /*#__PURE__*/React.createElement(\"table\", {\n    className: \"table text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 464,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 467,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 469,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    className: \"text-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 470,\n      columnNumber: 27\n    }\n  }, \"Date Time\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    className: \"text-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 473,\n      columnNumber: 27\n    }\n  }, \"Description\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 478,\n      columnNumber: 23\n    }\n  }, contractHistoryData.map((item, index) => /*#__PURE__*/React.createElement(\"tr\", {\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 481,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    className: \"text-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 482,\n      columnNumber: 31\n    }\n  }, moment(item.createDateTime).format(\"DD MMM YYYY\")), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"text-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 485,\n      columnNumber: 31\n    }\n  }, item.description))))) : /*#__PURE__*/React.createElement(NoDataAvailable, Object.assign({\n    title: \"Contract history not exist yet\",\n    buttonText: \"View your other contracts\",\n    path: \"/my-contracts\",\n    color: \"#0d2146\"\n  }, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 494,\n      columnNumber: 21\n    }\n  }))), (contractHistoryData === null || contractHistoryData === void 0 ? void 0 : contractHistoryData.length) > 0 && /*#__PURE__*/React.createElement(Pagination, {\n    isPreviousPage: pagination.pageNumber > 1 ? true : false,\n    isNextPage: pagination.pageNumber * pagination.pageSize < pagination.total ? true : false,\n    lastPkEvaluatedTrack: contractHistoryData,\n    pageNumber: pagination.pageNumber,\n    moveBack: () => getContractHistory(\"prev\"),\n    moveNext: () => getContractHistory(\"next\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 504,\n      columnNumber: 17\n    }\n  }))))));\n}\n\nexport default ContractDetail;","map":{"version":3,"sources":["/var/www/php74/bearolefrontend/src/container/freelancer/contractDetail/sharedComponents/contractDetail.js"],"names":["React","useEffect","useState","Format","UserView","moment","useSelector","request","ENDPOINT","getOptions","postOptions","Skeleton","Pagination","notifications","NoDataAvailable","ContractDetail","props","unpaidAmount","setUnpaidAmount","isContractDetailSectionExpanded","setIsContractDetailSectionExpanded","contractStats","setContractStats","rate","contractDetail","finalizedHourlyRate","weekLimit","finalizedHourOfWeek","dailyRate","projectDetail","projectType","finalizedSalarayAmount","finalizedDailyRate","milestoneAmount","finalizedMilestoneAmount","isRateEditable","setIsRateEditable","isDailyRateEditable","setIsDailyRateEditable","isWeekLimitEditable","setIsWeekLimitEditable","isMilestoneAmountEditable","setIsMilestoneAmountEditable","isManualTimeAllow","setIsManualTimeAllow","projectHistory","setProjectHistory","loading","setLoading","pagination","setPagination","pageSize","pageNumber","total","contractHistoryData","setContractHistoryData","contractHistoryLoading","setContractHistoryLoading","user","state","authReducer","onExpansionChange","projectContractId","getContractHistory","onEditIconClick","name","document","getElementsByName","focus","onTextHandleChange","e","type","target","value","move","userId","userProfile","projectId","result","success","entries","pageNumer","saveChangesContract","param","allowManualTimeLog","showSuccess","contractDetailNew","history","push","pathname","showError","currencyCode","postDateTime","format","padding","contractCreatedDateTime","clientAuth","firstName","lastName","contractCode","length","map","item","index","createDateTime","description"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport \"../contractDetail.scss\";\nimport Format from \"../../../../components/numberFormat\";\nimport { UserView } from \"../../../../components/freelancer/userView\";\nimport moment from \"moment\";\nimport { useSelector } from \"react-redux\";\nimport request from \"../../../../utils/request\";\nimport { ENDPOINT } from \"../../../../utils/endpoint\";\nimport { getOptions, postOptions } from \"../../../../utils/httpConfig\";\nimport Skeleton from \"../../../../components/skeleton/skeleton\";\nimport Pagination from \"../../../../components/pagination\";\nimport notifications from \"../../../../utils/notifications\";\nimport NoDataAvailable from \"../../../../shared/error/not-data-available-new\";\nfunction ContractDetail(props) {\n  const [unpaidAmount, setUnpaidAmount] = useState(0.0);\n  const [isContractDetailSectionExpanded, setIsContractDetailSectionExpanded] =\n    useState(true);\n  const [contractStats, setContractStats] = useState({\n    rate: props.contractDetail?.finalizedHourlyRate\n      ? props.contractDetail?.finalizedHourlyRate\n      : 0,\n    weekLimit: props.contractDetail?.finalizedHourOfWeek\n      ? props.contractDetail?.finalizedHourOfWeek\n      : 0,\n    dailyRate: props.projectDetail.projectType === \"OfficeWork\" && props.contractDetail?.finalizedSalarayAmount\n      ? props.contractDetail?.finalizedSalarayAmount\n      : props.contractDetail.finalizedDailyRate ? props.contractDetail.finalizedDailyRate : 0,\n    milestoneAmount: props.contractDetail.finalizedMilestoneAmount ? props.contractDetail.finalizedMilestoneAmount : '0'\n  });\n  const [isRateEditable, setIsRateEditable] = useState(false);\n  const [isDailyRateEditable, setIsDailyRateEditable] = useState(false);\n  const [isWeekLimitEditable, setIsWeekLimitEditable] = useState(false);\n  const [isMilestoneAmountEditable, setIsMilestoneAmountEditable] = useState(false);\n  const [isManualTimeAllow, setIsManualTimeAllow] = useState(true);\n  const [projectHistory, setProjectHistory] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [pagination, setPagination] = useState({\n    pageSize: 10,\n    pageNumber: 1,\n    total: 10,\n  });\n  const [contractHistoryData, setContractHistoryData] = useState([])\n  const [contractHistoryLoading, setContractHistoryLoading] = useState(false);\n\n\n\n  const user = useSelector((state) => state.authReducer);\n\n  const onExpansionChange = () => {\n    setIsContractDetailSectionExpanded(!isContractDetailSectionExpanded);\n  };\n\n  useEffect(() => {\n    if (props.contractDetail.projectContractId) {\n      setContractStats({\n        ...contractStats, milestoneAmount: props.contractDetail.finalizedMilestoneAmount,\n        dailyRate: props.projectDetail.projectType === \"OfficeWork\" && props.contractDetail?.finalizedSalarayAmount\n          ? props.contractDetail?.finalizedSalarayAmount\n          : props.contractDetail.finalizedDailyRate ? props.contractDetail.finalizedDailyRate : 0,\n        rate: props.contractDetail.finalizedHourlyRate,\n        weekLimit: props.contractDetail.finalizedHourOfWeek,\n      })\n    }\n    if (props.contractDetail.projectContractId) {\n      getContractHistory()\n    }\n  }, [props.contractDetail])\n\n  const onEditIconClick = (name) => {\n    if (name === \"isRateEditable\") {\n      document.getElementsByName(\"rate\")[0] &&\n        document.getElementsByName(\"rate\")[0].focus();\n      setIsRateEditable(!isRateEditable);\n      setIsDailyRateEditable(false);\n    } else if (name === \"isDailyRateEditable\") {\n      document.getElementsByName(\"dailyRate\")[0] &&\n        document.getElementsByName(\"dailyRate\")[0].focus();\n      setIsDailyRateEditable(!isRateEditable);\n      setIsRateEditable(false);\n    } else if (name === \"isWeekLimitEditable\") {\n      document.getElementsByName(\"weekLimit\")[0] &&\n        document.getElementsByName(\"weekLimit\")[0].focus();\n      setIsWeekLimitEditable(!isWeekLimitEditable);\n    }\n  };\n  const onTextHandleChange = (e, type) => {\n    if (type === \"weekLimit\") {\n      setContractStats({ ...contractStats, weekLimit: e.target.value });\n    } else {\n      setContractStats({ ...contractStats, [type]: e.target.value });\n    }\n  };\n\n\n  const getContractHistory = async (move) => {\n    let userId = props.userProfile?.userId;\n    let projectContractId = props.contractDetail.projectContractId;\n    let projectId = props.projectDetail.projectId;\n    let pageNumber = pagination.pageNumber;\n    setContractHistoryLoading(true)\n    if (move === \"next\") {\n      setPagination({\n        ...pagination, pageNumber: pagination.pageNumber + 1\n      })\n      pageNumber = pageNumber + 1;\n    } else if (move === \"prev\") {\n      setPagination({\n        ...pagination, pageNumber: pagination.pageNumber - 1\n      })\n      pageNumber = pageNumber - 1;\n    }\n    let result = await request(\n      `${ENDPOINT[\"GetProjectContractHistory\"]\n      }?projectContractId=${projectContractId}&userId=${userId}&projectId=${projectId}&pageNumber=${pageNumber}&pageSize=${pagination.pageSize}`,\n      getOptions({})\n    );\n    if (result.success) {\n      setContractHistoryData(result.result.entries);\n      setPagination({\n        pageNumber: result.result.pageNumber || result.result.pageNumer,\n        pageSize: result.result.pageSize,\n        total: result.result.total,\n      });\n      setContractHistoryLoading(false)\n    } else { }\n    setContractHistoryLoading(false)\n  }\n\n\n  const saveChangesContract = async () => {\n    let param\n    if (props.projectDetail.projectType === \"Hourly\") {\n      param = {\n        projectId: props.projectDetail.projectId,\n        projectContractId: props.contractDetail.projectContractId,\n        finalizedHourlyRate: contractStats.rate,\n        finalizedHourOfWeek: contractStats.weekLimit,\n        allowManualTimeLog: isManualTimeAllow,\n        finalizedMilestoneAmount: '',\n        finalizedDailyRate: ''\n      };\n    }\n\n    if (props.projectDetail.projectType === \"FreeContract\") {\n      param = {\n        projectId: props.projectDetail.projectId,\n        projectContractId: props.contractDetail.projectContractId,\n        finalizedHourlyRate: contractStats.rate,\n        finalizedHourOfWeek: contractStats.weekLimit,\n        allowManualTimeLog: isManualTimeAllow,\n        finalizedMilestoneAmount: '',\n        finalizedDailyRate: contractStats.dailyRate\n      };\n    }\n\n    if (props.projectDetail.projectType === \"Milestone\") {\n      param = {\n        projectId: props.projectDetail.projectId,\n        projectContractId: props.contractDetail.projectContractId,\n        finalizedHourlyRate: '',\n        finalizedHourOfWeek: '',\n        finalizedMilestoneAmount: contractStats.milestoneAmount,\n        finalizedDailyRate: ''\n      };\n    }\n\n\n    if (props.projectDetail.projectType === \"OfficeWork\") {\n      param = {\n        projectId: props.projectDetail.projectId,\n        projectContractId: props.contractDetail.projectContractId,\n        finalizedHourlyRate: '',\n        finalizedHourOfWeek: '',\n        finalizedMilestoneAmount: '',\n        finalizedDailyRate: contractStats.dailyRate\n      };\n    }\n\n    setLoading(true);\n\n    let result = await request(\n      `${ENDPOINT[\"UpdateContractCondition\"]}`,\n      postOptions(param)\n    );\n    if (result.success) {\n      notifications.showSuccess(\"Contract updated successfully\")\n      let contractDetailNew = props.contractDetail;\n      contractDetailNew.finalizedHourlyRate = contractStats.rate;\n      contractDetailNew.finalizedDailyRate = contractStats.dailyRate;\n      contractDetailNew.finalizedHourOfWeek = contractStats.weekLimit;\n      contractDetailNew.finalizedMilestoneAmount = contractStats.milestoneAmount\n      contractDetailNew.allowManualTimeLog = isManualTimeAllow;\n      if (props.projectDetail.projectType === \"Hourly\") {\n        props.history.push({\n          pathname: '/hourly-contract-detail-freelancer',\n          state: contractDetailNew\n        })\n      }\n      if (props.projectDetail.projectType === \"OfficeWork\") {\n        props.history.push({\n          pathname: '/office-contract-detail-freelancer',\n          state: contractDetailNew\n        })\n      }\n      if (props.projectDetail.projectType === \"FreeContract\") {\n        props.history.push({\n          pathname: '/free-contract-detail-freelancer',\n          state: contractDetailNew\n        })\n      }\n      if (props.projectDetail.projectType === \"Milestone\") {\n        props.history.push({\n          pathname: '/milestone-contract-detail-freelancer',\n          state: contractDetailNew\n        })\n      }\n      getContractHistory()\n\n      setLoading(false);\n    } else {\n      setLoading(false)\n      notifications.showError(\"Some Error occurred please try again later\")\n    }\n\n\n\n\n  };\n  return (\n    <div>\n      <UserView\n        projectDetail={props.projectDetail}\n        // handlePauseContract={this.handlePauseContract}\n        unpaidAmount={\n          <Format\n            number={unpaidAmount}\n            currency={props.projectDetail.currencyCode}\n          />\n        }\n        contractDetail={props.contractDetail}\n        timeAndPaymentsTab={true}\n        userProfile={props?.userProfile}\n        {...props}\n      />\n      <div className=\"hourly_limit post_form hourly_report\">\n        <div className=\"position_rel\">\n          <h4>\n            <span className=\"viewDetail\">\n              <a\n                className=\"plus_btn\"\n                aria-expanded={isContractDetailSectionExpanded}\n                onClick={() =>\n                  onExpansionChange(\"isContractDetailSectionExpanded\")\n                }\n              >\n                +\n              </a>\n            </span>\n          </h4>\n        </div>\n        <div\n          className={\n            isContractDetailSectionExpanded ? \"collapse show\" : \"collapse\"\n          }\n          id=\"collapseExample4\"\n        >\n          <div hidden={true} className=\"work_date\">\n            <a title=\"\">\n              <i className=\"fa fa-angle-left\" aria-hidden=\"true\" />\n            </a>\n            <span>\n              {moment(props.projectDetail.postDateTime).format(\n                \"dddd, MMM D, YYYY\"\n              )}\n            </span>\n            <a title=\"\">\n              <i className=\"fa fa-angle-right\" aria-hidden=\"true\" />\n            </a>\n          </div>\n          <div className=\"hourly_rate basic_font\">\n            <div className=\"row align-items-end\">\n              <div className=\"col-md-8\">\n                {(props.projectDetail.projectType != \"OfficeWork\" && props.projectDetail.projectType != \"Milestone\") && <div className=\"d-flex align-items-center\">\n                  <label className=\"green_text feedbk_lbl\">Hourly Rate:</label>\n                  {isRateEditable ? (\n                    <span className=\"rate_box\">\n                      <input\n                        type=\"text\"\n                        name=\"rate\"\n                        id=\"hourly-rate-update\"\n                        value={contractStats.rate}\n                        autoFocus\n                        className=\"rate_box_select form-control border-0 py-0 font-weight-bold\"\n                        onChange={(e) => onTextHandleChange(e, \"rate\")}\n                      />\n                    </span>\n                  ) : (\n                    <span className=\"rate_box\">${contractStats.rate}</span>\n                  )}\n                  <span>Per Hour</span>\n                  <i\n                    className=\"fa fa-pencil\"\n                    aria-hidden=\"true\"\n                    onClick={() => onEditIconClick(\"isRateEditable\")}\n                  />\n                </div>}\n\n                {\n                  (props.projectDetail.projectType != \"Hourly\" && props.projectDetail.projectType != \"Milestone\") &&\n                  <div className=\"d-flex align-items-center\">\n                    <label className=\"green_text feedbk_lbl\">Daily Rate:</label>\n                    {isDailyRateEditable ? (\n                      <span className=\"rate_box\">\n                        <input\n                          type=\"text\"\n                          name=\"dailyRate\"\n                          autoFocus\n                          value={contractStats.dailyRate}\n                          className=\"rate_box_select form-control border-0 py-0 font-weight-bold\"\n                          onChange={(e) => onTextHandleChange(e, \"dailyRate\")}\n                        />\n                      </span>\n                    ) : (\n                      <span className=\"rate_box\">\n                        ${contractStats.dailyRate}\n                      </span>\n                    )}\n                    <span>Per day</span>\n                    <i\n                      className=\"fa fa-pencil\"\n                      aria-hidden=\"true\"\n                      onClick={() => onEditIconClick(\"isDailyRateEditable\")}\n                    />\n                  </div>\n                }\n\n\n                {((props.projectDetail.projectType === \"FreeContract\" ||\n                  props.projectDetail.projectType === \"Hourly\") && props.projectDetail.projectType != \"Milestone\") && (\n                    <div className=\"d-flex align-items-center\">\n                      <label className=\"green_text feedbk_lbl\">\n                        Weekly Limit :\n                      </label>\n                      {isWeekLimitEditable ? (\n                        <span className=\"rate_box\">\n                          <input\n                            type=\"text\"\n                            autoFocus\n                            name=\"weekLimit\"\n                            value={contractStats.weekLimit}\n                            className=\"rate_box_select form-control border-0 py-0 font-weight-bold\"\n                            onChange={(e) => onTextHandleChange(e, \"weekLimit\")}\n                          />\n                        </span>\n                      ) : (\n                        <span className=\"rate_box\">\n                          {contractStats.weekLimit}\n                        </span>\n                      )}\n                      <span>Per Week</span>\n                      <i\n                        className=\"fa fa-pencil\"\n                        aria-hidden=\"true\"\n                        onClick={() => onEditIconClick(\"isWeekLimitEditable\")}\n                      />\n                    </div>\n                  )}\n                {props.projectDetail.projectType === \"Milestone\" && (\n                  <div className=\"d-flex align-items-center\">\n                    <label className=\"green_text feedbk_lbl\">\n                      Milestone amount:\n                    </label>\n                    {isMilestoneAmountEditable ? (\n                      <span className=\"rate_box\">\n                        <input\n                          type=\"text\"\n                          name=\"weekLimit\"\n                          autoFocus\n                          value={contractStats.milestoneAmount}\n                          className=\"rate_box_select form-control border-0 py-0 font-weight-bold\"\n                          onChange={(e) => onTextHandleChange(e, \"milestoneAmount\")}\n                        />\n                      </span>\n                    ) : (\n                      <span className=\"rate_box\">\n                        US$ {contractStats.milestoneAmount}\n                      </span>\n                    )}\n                    <span>{\" \"}</span>\n                    <i\n                      className=\"fa fa-pencil\"\n                      aria-hidden=\"true\"\n                      onClick={() => setIsMilestoneAmountEditable(true)}\n                    />\n                  </div>\n                )}\n                {\n                  props.projectDetail.projectType != \"Milestone\" && props.projectDetail.projectType != \"OfficeWork\" && <div className=\"d-flex align-items-center\">\n                    <label className=\"green_text feedbk_lbl feedbk_lbl_manualTimeMobile\">\n                      <i className=\"fa fa-question-circle\" aria-hidden=\"true\" />\n                      Manual Time :\n                    </label>\n                    {/* <span className=\"rate_box\">Allowed</span> */}\n                    <span className=\"rate_box\">\n                      <select\n                        name=\"manualTime\"\n                        className=\"rate_box_select form-control border-0 py-0 font-weight-bold\"\n                        style={{ padding: \".375rem 0.55rem\" }}\n                        value={isManualTimeAllow}\n                        onChange={(e) => {\n                          setIsManualTimeAllow(e.target.value === \"true\");\n                        }}\n                      >\n                        <option value={true}>Allowed</option>\n                        <option value={false}>Disallowed</option>\n                      </select>\n                    </span>\n                  </div>\n                }\n\n                <div className=\"d-flex align-items-center\">\n                  <label className=\"green_text feedbk_lbl\">Start Date:</label>\n                  <span>\n                    {moment(\n                      props.contractDetail.contractCreatedDateTime\n                    ).format(\"D MMM YYYY\")}\n                  </span>\n                </div>\n                <div className=\"d-flex align-items-center\">\n                  <label className=\"green_text feedbk_lbl\">Hired By :</label>\n                  <span>{(user.clientAuth?.firstName + \" \" + user.clientAuth?.lastName) || \"Sonny Cho\"}</span>\n                </div>\n                <div className=\"d-flex align-items-center\">\n                  <label className=\"green_text feedbk_lbl\">Contract ID:</label>\n                  <span>\n                    {props.contractDetail.contractCode || \"00000000000\"}\n                  </span>\n                </div>\n              </div>\n              <div className=\"col-md-4\">\n                <div className=\"save_cancel\">\n                  <button\n                    type=\"button\"\n                    className=\"btn save_btn\"\n                    onClick={() => saveChangesContract()}\n                  >\n                    Save Changes{\" \"}\n                    {loading ? <i className=\"fa fa-spinner fa-spin\"></i> : \"\"}\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className=\"work_detail contract_detail\">\n            <h5>View History of Contract Changes</h5>\n            <Skeleton\n              count={2}\n              isSkeletonLoading={contractHistoryLoading}\n            />\n            <div hidden={contractHistoryLoading} className=\"contract_tbl\">\n              <div className=\"table-responsive detail_tbl\">\n                {\n                  contractHistoryData.length > 0 ?\n                    <table\n                      className=\"table text-center\"\n                    >\n                      <thead>\n\n                        <tr>\n                          <th scope=\"col\" className=\"text-left\">\n                            Date Time\n                          </th>\n                          <th scope=\"col\" className=\"text-left\">\n                            Description\n                          </th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        {\n                          contractHistoryData.map((item, index) => (\n                            <tr key={index} >\n                              <td className=\"text-left\">\n                                {moment(item.createDateTime).format(\"DD MMM YYYY\")}\n                              </td>\n                              <td className=\"text-left\">\n                                {item.description}\n                              </td>\n                            </tr>\n                          ))\n                        }\n\n                      </tbody>\n                    </table> :\n                    <NoDataAvailable\n                      title=\"Contract history not exist yet\"\n                      buttonText=\"View your other contracts\"\n                      path=\"/my-contracts\"\n                      color={\"#0d2146\"}\n                      {...props}\n                    />\n                }\n              </div>\n              {contractHistoryData?.length > 0 && (\n                <Pagination\n                  isPreviousPage={pagination.pageNumber > 1 ? true : false}\n                  isNextPage={\n                    pagination.pageNumber * pagination.pageSize <\n                      pagination.total\n                      ? true\n                      : false\n                  }\n                  lastPkEvaluatedTrack={contractHistoryData}\n                  pageNumber={pagination.pageNumber}\n                  moveBack={() =>\n                    getContractHistory(\"prev\")\n                  }\n                  moveNext={() =>\n                    getContractHistory(\"next\")\n                  }\n                />\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default ContractDetail;\n"]},"metadata":{},"sourceType":"module"}