{"ast":null,"code":"var _jsxFileName = \"/var/www/php74/bearolefrontend/src/components/invitation/sendInvitation/index.js\";\nimport React, { useState, useEffect } from \"react\";\nimport Modal from \"react-bootstrap/Modal\";\nimport \"./sendInvitation.scss\";\nimport Skeleton from \"../../skeleton/skeleton\";\nimport request from \"../../../utils/request\";\nimport { ENDPOINT } from \"../../../utils/endpoint\";\nimport { getOptions } from \"../../../utils/httpConfig\";\nimport ProjectCardbox from \"./projectCardbox\";\nimport moment from \"moment\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Pagination from \"../../pagination\";\n\nfunction SendInvitationModal(props) {\n  const [isSkeletonLoading, setIsSkeletonLoading] = useState(true);\n  const [pagination, setPagination] = useState({\n    pageSize: 10,\n    pageNumber: 1,\n    total: 20\n  });\n  const [projectData, setProjectData] = useState([]);\n  const authUser = useSelector(state => state.authReducer);\n\n  const handleClose = () => {\n    props.setShowInvitation(false);\n  };\n\n  useEffect(() => {\n    if (props.showInvitation) {\n      bindAllProject();\n    }\n  }, [props.showInvitation]);\n\n  const bindAllProject = async (lastPkEvaluated, move, projectType) => {\n    var _authUser$clientAuth;\n\n    setIsSkeletonLoading(true);\n    setProjectData([]);\n    let pageNumber = pagination.pageNumber;\n\n    if (move === \"next\") {\n      setPagination({ ...pagination,\n        pageNumber: pagination.pageNumber + 1\n      });\n      pageNumber = pageNumber + 1;\n    } else if (move === \"prev\") {\n      setPagination({ ...pagination,\n        pageNumber: pagination.pageNumber - 1\n      });\n      pageNumber = pageNumber - 1;\n    }\n\n    let queryString = `?projectTypes=&projectStatus=&projectScope=&postUserId=${authUser === null || authUser === void 0 ? void 0 : (_authUser$clientAuth = authUser.clientAuth) === null || _authUser$clientAuth === void 0 ? void 0 : _authUser$clientAuth.clientId}&search=&pageSize=${pagination.pageSize}&pageNumber=${pageNumber}`;\n    let result = await request(`${ENDPOINT[\"GetProjectsRecruitment\"]}` + queryString, getOptions({}));\n\n    if (result.success) {\n      setIsSkeletonLoading(false);\n      setProjectData(result.result.entries);\n      setPagination({ ...pagination,\n        pageNumber: result.result.pageNumer || result.result.pageNumber,\n        pageSize: result.result.pageSize,\n        total: result.result.total\n      });\n    } else {\n      setIsSkeletonLoading(false);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Modal, {\n    dialogClassName: \"jungle-modal\",\n    contentClassName: \"jungle-modal-content\",\n    show: props.showInvitation,\n    onHide: handleClose,\n    centered: true,\n    size: \"lg\",\n    backdrop: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    className: `position-relative jungle-modal-header` // closeButton={!customClose && !noClose}\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"customer-invitation-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"https://jungleworksassetsbucket.s3.ap-northeast-2.amazonaws.com/bearoleImages/invitation.svg\",\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }\n  }, \"Invite freelancer \")), /*#__PURE__*/React.createElement(\"span\", {\n    onClick: handleClose,\n    className: \"custom-close\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }, \"x\")), /*#__PURE__*/React.createElement(Modal.Body, {\n    className: \"hide_scroll_bar invitation_modal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"skelton-area\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Skeleton, {\n    count: 5,\n    isSkeletonLoading: isSkeletonLoading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    hidden: isSkeletonLoading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }, projectData && projectData.length > 0 && projectData.map((project, index) => /*#__PURE__*/React.createElement(ProjectCardbox, Object.assign({\n    key: `cardProject${index}`,\n    selectedProject: project,\n    index: index,\n    individualFreelancerId: project.postUserId,\n    handleClose: handleClose\n  }, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 11\n    }\n  }), (projectData === null || projectData === void 0 ? void 0 : projectData.length) > 0 && /*#__PURE__*/React.createElement(Pagination, {\n    isPreviousPage: pagination.pageNumber > 1 ? true : false,\n    isNextPage: pagination.pageNumber * pagination.pageSize < pagination.total ? true : false,\n    lastPkEvaluatedTrack: projectData,\n    pageNumber: pagination.pageNumber,\n    moveBack: () => bindAllProject(\"\", \"prev\"),\n    moveNext: () => bindAllProject(\"\", \"next\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }\n  }))));\n}\n\nexport default SendInvitationModal;","map":{"version":3,"sources":["/var/www/php74/bearolefrontend/src/components/invitation/sendInvitation/index.js"],"names":["React","useState","useEffect","Modal","Skeleton","request","ENDPOINT","getOptions","ProjectCardbox","moment","useSelector","useDispatch","Pagination","SendInvitationModal","props","isSkeletonLoading","setIsSkeletonLoading","pagination","setPagination","pageSize","pageNumber","total","projectData","setProjectData","authUser","state","authReducer","handleClose","setShowInvitation","showInvitation","bindAllProject","lastPkEvaluated","move","projectType","queryString","clientAuth","clientId","result","success","entries","pageNumer","length","map","project","index","postUserId"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Modal from \"react-bootstrap/Modal\";\nimport \"./sendInvitation.scss\";\nimport Skeleton from \"../../skeleton/skeleton\";\nimport request from \"../../../utils/request\";\n\nimport { ENDPOINT } from \"../../../utils/endpoint\";\nimport { getOptions } from \"../../../utils/httpConfig\";\nimport ProjectCardbox from \"./projectCardbox\";\nimport moment from \"moment\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Pagination from \"../../pagination\";\nfunction SendInvitationModal(props) {\n  const [isSkeletonLoading, setIsSkeletonLoading] = useState(true);\n  const [pagination, setPagination] = useState({\n    pageSize: 10,\n    pageNumber: 1,\n    total: 20,\n  });\n  const [projectData, setProjectData] = useState([]);\n\n  const authUser = useSelector((state) => state.authReducer);\n\n  const handleClose = () => {\n    props.setShowInvitation(false);\n  };\n\n  useEffect(() => {\n    if (props.showInvitation) {\n      bindAllProject();\n    }\n  }, [props.showInvitation]);\n\n  const bindAllProject = async (lastPkEvaluated, move, projectType) => {\n    setIsSkeletonLoading(true);\n    setProjectData([]);\n\n    let pageNumber = pagination.pageNumber;\n    if (move === \"next\") {\n      setPagination({\n        ...pagination,\n        pageNumber: pagination.pageNumber + 1,\n      });\n      pageNumber = pageNumber + 1;\n    } else if (move === \"prev\") {\n      setPagination({\n        ...pagination,\n        pageNumber: pagination.pageNumber - 1,\n      });\n      pageNumber = pageNumber - 1;\n    }\n\n    let queryString = `?projectTypes=&projectStatus=&projectScope=&postUserId=${authUser?.clientAuth?.clientId}&search=&pageSize=${pagination.pageSize}&pageNumber=${pageNumber}`;\n\n    let result = await request(\n      `${ENDPOINT[\"GetProjectsRecruitment\"]}` + queryString,\n      getOptions({})\n    );\n    if (result.success) {\n      setIsSkeletonLoading(false);\n      setProjectData(result.result.entries);\n      setPagination({\n        ...pagination,\n        pageNumber: result.result.pageNumer || result.result.pageNumber,\n        pageSize: result.result.pageSize,\n        total: result.result.total,\n      });\n    } else {\n      setIsSkeletonLoading(false);\n    }\n  };\n  return (\n    <Modal\n      dialogClassName=\"jungle-modal\"\n      contentClassName=\"jungle-modal-content\"\n      show={props.showInvitation}\n      onHide={handleClose}\n      centered\n      size=\"lg\"\n      backdrop={true}\n    >\n      <Modal.Header\n        className={`position-relative jungle-modal-header`}\n        // closeButton={!customClose && !noClose}\n      >\n        <div className=\"customer-invitation-header\">\n          <img src={\"https://jungleworksassetsbucket.s3.ap-northeast-2.amazonaws.com/bearoleImages/invitation.svg\"} alt=\"\" />\n          <h3>Invite freelancer </h3>\n        </div>\n\n        <span onClick={handleClose} className=\"custom-close\">\n          x\n        </span>\n      </Modal.Header>\n      <Modal.Body className=\"hide_scroll_bar invitation_modal\">\n        <div className=\"skelton-area\">\n          <Skeleton count={5} isSkeletonLoading={isSkeletonLoading} />\n        </div>\n        <div hidden={isSkeletonLoading}>\n          {projectData &&\n            projectData.length > 0 &&\n            projectData.map((project, index) => (\n              <ProjectCardbox\n                key={`cardProject${index}`}\n                selectedProject={project}\n                index={index}\n                individualFreelancerId={project.postUserId}\n                handleClose={handleClose}\n                {...props}\n              />\n            ))}\n          <br />\n          {projectData?.length > 0 && (\n            <Pagination\n              isPreviousPage={pagination.pageNumber > 1 ? true : false}\n              isNextPage={\n                pagination.pageNumber * pagination.pageSize < pagination.total\n                  ? true\n                  : false\n              }\n              lastPkEvaluatedTrack={projectData}\n              pageNumber={pagination.pageNumber}\n              moveBack={() => bindAllProject(\"\", \"prev\")}\n              moveNext={() => bindAllProject(\"\", \"next\")}\n            />\n          )}\n        </div>\n      </Modal.Body>\n    </Modal>\n  );\n}\n\nexport default SendInvitationModal;\n"]},"metadata":{},"sourceType":"module"}