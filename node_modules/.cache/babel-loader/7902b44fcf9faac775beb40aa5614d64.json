{"ast":null,"code":"var _jsxFileName = \"/var/www/php74/bearolefrontend/src/components/timezoneSearchBox/index.js\";\nimport React, { useState, useRef, useEffect } from \"react\"; // import './styles.scss';\n\nconst searchFilter = (searchValue, list, searchBy = \"value\") => {\n  console.log(\"searchValue, list\", searchValue, list);\n  let lowerCaseQuery = searchValue.toLowerCase();\n  let filteredList = searchValue ? list.filter(x => x.toLowerCase().includes(lowerCaseQuery)) : list;\n  return filteredList;\n};\n\nconst DropdownItems = ({\n  placeholder,\n  items,\n  selectItem\n}) => {\n  const [visible, setVisible] = useState(false);\n  const [searchValue, setSearchValue] = useState(\"\");\n  const [selectedItem, setSelectedItem] = useState(null);\n  const dropdownRef = useRef(null); // click away listener\n\n  useEffect(() => {\n    document.addEventListener(\"mousedown\", handleClick, false);\n    return () => document.removeEventListener(\"mousedown\", handleClick, false);\n  }, []);\n\n  const handleClick = e => {\n    if (dropdownRef.current.contains(e.target)) {\n      return;\n    }\n\n    setVisible(false);\n  };\n\n  const handleChange = e => {\n    setSearchValue(e.target.value);\n\n    if (!visible) {\n      setVisible(true);\n    }\n  };\n\n  const handleSelectItem = item => {\n    setSearchValue(item);\n    setSelectedItem(item);\n    setVisible(false);\n    selectItem(item);\n  };\n\n  const selectChange = e => {\n    console.log(e.target.value);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: `wrapper-input ${visible ? \"active\" : \"\"}  no-border p-0`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-control\",\n    type: \"text\",\n    placeholder: placeholder,\n    value: searchValue,\n    onChange: handleChange,\n    onFocus: () => {\n      // if (searchValue) {\n      setVisible(true); // };\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    ref: dropdownRef,\n    className: `dropdown ${visible ? \"v\" : \"\"}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }, visible && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dropdown\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"dropdown-inner\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, !items && /*#__PURE__*/React.createElement(\"li\", {\n    key: \"zxc\",\n    className: \"dropdown_item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }\n  }, \"no result\"), items && searchFilter(searchValue, items).map(item => /*#__PURE__*/React.createElement(\"li\", {\n    key: item,\n    onClick: () => handleSelectItem(item),\n    className: \"dropdown_item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 21\n    }\n  }, item)))))));\n};\n\nexport default DropdownItems;","map":{"version":3,"sources":["/var/www/php74/bearolefrontend/src/components/timezoneSearchBox/index.js"],"names":["React","useState","useRef","useEffect","searchFilter","searchValue","list","searchBy","console","log","lowerCaseQuery","toLowerCase","filteredList","filter","x","includes","DropdownItems","placeholder","items","selectItem","visible","setVisible","setSearchValue","selectedItem","setSelectedItem","dropdownRef","document","addEventListener","handleClick","removeEventListener","e","current","contains","target","handleChange","value","handleSelectItem","item","selectChange","map"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\n// import './styles.scss';\n\nconst searchFilter = (searchValue, list, searchBy = \"value\") => {\n  console.log(\"searchValue, list\", searchValue, list);\n  let lowerCaseQuery = searchValue.toLowerCase();\n  let filteredList = searchValue\n    ? list.filter((x) => x.toLowerCase().includes(lowerCaseQuery))\n    : list;\n  return filteredList;\n};\n\nconst DropdownItems = ({ placeholder, items, selectItem }) => {\n  const [visible, setVisible] = useState(false);\n  const [searchValue, setSearchValue] = useState(\"\");\n  const [selectedItem, setSelectedItem] = useState(null);\n  const dropdownRef = useRef(null);\n\n  // click away listener\n  useEffect(() => {\n    document.addEventListener(\"mousedown\", handleClick, false);\n    return () => document.removeEventListener(\"mousedown\", handleClick, false);\n  }, []);\n\n  const handleClick = (e) => {\n    if (dropdownRef.current.contains(e.target)) {\n      return;\n    }\n    setVisible(false);\n  };\n\n  const handleChange = (e) => {\n    setSearchValue(e.target.value);\n    if (!visible) {\n      setVisible(true);\n    }\n  };\n\n  const handleSelectItem = (item) => {\n    setSearchValue(item);\n    setSelectedItem(item);\n    setVisible(false);\n    selectItem(item);\n  };\n\n  const selectChange = (e) => {\n    console.log(e.target.value);\n  };\n  return (\n    <div className={`wrapper-input ${visible ? \"active\" : \"\"}  no-border p-0`}>\n      <input\n        className=\"form-control\"\n        type=\"text\"\n        placeholder={placeholder}\n        value={searchValue}\n        onChange={handleChange}\n        onFocus={() => {\n          // if (searchValue) {\n          setVisible(true);\n          // };\n        }}\n      />\n      <div ref={dropdownRef} className={`dropdown ${visible ? \"v\" : \"\"}`}>\n        {visible && (\n          <div className=\"dropdown\">\n            <ul className=\"dropdown-inner\">\n              {!items && (\n                <li key=\"zxc\" className=\"dropdown_item\">\n                  no result\n                </li>\n              )}\n              {/* you can remove the searchFilter if you get results from Filtered API like Google search */}\n              {items &&\n                searchFilter(searchValue, items).map((item) => (\n                  <li\n                    key={item}\n                    onClick={() => handleSelectItem(item)}\n                    className=\"dropdown_item\"\n                  >\n                    <a>{item}</a>\n                  </li>\n                ))}\n            </ul>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default DropdownItems;\n"]},"metadata":{},"sourceType":"module"}