{"ast":null,"code":"var _jsxFileName = \"/var/www/php74/bearolefrontend/src/container/project/featuredContest/contestPosts.js\";\nimport React, { Component } from \"react\";\nimport moment from \"moment\";\nimport { connect } from \"react-redux\";\nimport { onReduxLangaugeChange } from \"../../../store/action/action\";\nimport request from \"../../../utils/request\";\nimport { ENDPOINT } from \"../../../utils/endpoint\";\nimport { getOptions } from \"../../../utils/httpConfig\";\nimport RightTop from \"../../../components/rightbar/rightTop\";\nimport RightBottom from \"../../../components/rightbar/rightBottom\";\nimport CheckboxCard from \"../../../components/checkboxCard/checkboxCard.jsx\";\nimport SubHeader from \"../../../components/subHeader\";\nimport ProjectCardbox from \"./cardbox\";\nimport \"./featuredContest.scss\";\nimport SkeletonCardBox from \"../../../components/skeleton/skeletonCardBox/skeletonCardBox\";\nimport Skeleton from \"../../../components/skeleton/skeleton\";\nimport Pagination from \"../../../components/pagination\";\nimport ProjectTypeFilter from \"../../../components/project/projectTypeFilter\";\nimport NoDataAvailable from \"../../../shared/error/not-data-available-new\";\n\nclass ContestFeaturedPosts extends Component {\n  constructor(props) {\n    var _props$authUser, _props$authUser$clien;\n\n    super(props);\n\n    this.onLangaugeDataChange = language => {\n      localStorage.setItem(\"langauge\", JSON.stringify(language));\n      this.props.onLangaugeChange(language);\n    };\n\n    this.onCheckboxChangeHandle = (event, type, index, name) => {\n      this.bindAllProject(\"\", \"\", name.replace(/\\s/g, \"\"));\n    };\n\n    this.onCheckboxChangeHandle12 = (event, type, index, name) => {\n      this.bindAllProject(\"\", \"\", name.replace(/\\s/g, \"\"));\n      let {\n        projectTypes,\n        projectStatuses\n      } = this.state;\n\n      if (type === \"projectTypes\") {\n        projectTypes[index].checked = event.target.checked;\n        this.state.selectedProjectType = \"\";\n        projectTypes.map((element, i) => {\n          if (element.checked) this.state.selectedProjectType += (this.state.selectedProjectType !== \"\" ? \",\" : \"\") + element.title;\n        });\n      }\n\n      if (type === \"projectStatuses\") {\n        projectStatuses[index].checked = event.target.checked;\n        this.state.selectedProjectStatus = \"\";\n        projectStatuses.map((element, i) => {\n          if (element.checked) this.state.selectedProjectStatus += (this.state.selectedProjectStatus !== \"\" ? \",\" : \"\") + element.title;\n        });\n      }\n\n      this.setState({\n        projectTypes,\n        projectStatuses,\n        lastPkEvaluatedTrack: []\n      });\n      let redirectTo = \"\";\n      if (this.state.searchProject !== \"\") redirectTo += \"?searchProject=\" + this.state.searchProject;\n      if (this.state.selectedCategory !== \"\") redirectTo += (redirectTo !== \"\" ? \"&category=\" : \"?category=\") + this.state.selectedCategory;\n      if (this.state.selectedProjectType !== \"\") redirectTo += (redirectTo !== \"\" ? \"&type=\" : \"?type=\") + this.state.selectedProjectType;\n      if (this.state.selectedProjectStatus !== \"\") redirectTo += (redirectTo !== \"\" ? \"&status=\" : \"?status=\") + this.state.selectedProjectStatus;\n      redirectTo += redirectTo === \"\" ? `${this.props.location.pathname}?type=\"\"` : \"\";\n      this.props.history.push(redirectTo);\n    };\n\n    let searchProject = new URLSearchParams(this.props.location.search).get(\"searchProject\");\n    let category = new URLSearchParams(this.props.location.search).get(\"category\");\n\n    let _projectStatuses = new URLSearchParams(this.props.location.search).get(\"status\");\n\n    let projectStatusArray = _projectStatuses !== \"\" && _projectStatuses !== null && _projectStatuses !== undefined ? _projectStatuses.split(\",\") : [];\n    this.state = {\n      searchProject: searchProject !== null && searchProject !== \"\" && searchProject !== undefined ? searchProject : \"\",\n      selectedCategory: category !== null && category !== \"\" && category !== undefined ? category : \"\",\n      selectedProjectType: \"\",\n      selectedProjectStatus: projectStatusArray.length > 0 ? projectStatusArray.join() : \"\",\n      clientUserId: (_props$authUser = props.authUser) === null || _props$authUser === void 0 ? void 0 : (_props$authUser$clien = _props$authUser.clientAuth) === null || _props$authUser$clien === void 0 ? void 0 : _props$authUser$clien.clientId,\n      projectTypes: [],\n      projectStatuses: [],\n      topActiveFilter: \"Basic\",\n      projectData: [],\n      isSkeletonLoading: false,\n      pagination: {\n        pageSize: 10,\n        lastPkEvaluated: \"\",\n        pageNumber: 1,\n        total: 20\n      },\n      lastPkEvaluatedTrack: [],\n      isNextPage: true,\n      isPreviousPage: false,\n      projectType: \"\"\n    };\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if (prevProps !== this.props) {\n      if (prevProps.location !== this.location) {\n        if (prevProps.location.search !== this.props.location.search) {\n          this.bindProjectTypes();\n        }\n      }\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    let category = new URLSearchParams(nextProps.location.search).get(\"category\");\n    let searchProject = new URLSearchParams(nextProps.location.search).get(\"searchProject\"); // let projectTypes = new URLSearchParams(this.props.location.search).get(\"type\");\n\n    this.state.searchProject = searchProject !== null && searchProject !== \"\" && searchProject !== undefined ? searchProject : \"\";\n    this.state.selectedCategory = category !== null && category !== \"\" && category !== undefined ? category : \"\";\n    this.setState({\n      lastPkEvaluatedTrack: []\n    }, () => {});\n    (category || searchProject) && this.bindAllProject(\"\", \"\");\n  }\n\n  componentWillMount() {\n    let data = localStorage.getItem(\"langauge\");\n    let langauge = JSON.parse(data);\n\n    if (langauge) {\n      this.props.onLangaugeChange(langauge);\n    }\n\n    this.bindProjectTypes();\n    this.bindProjectStatuses();\n    this.bindAllProject(\"\", \"\");\n  } //#region Bind Events\n\n\n  async bindProjectTypes() {\n    /*  debugger */\n    let array = [];\n    let projectTypes = new URLSearchParams(this.props.location.search).get(\"type\");\n    let projectTypeArray = projectTypes !== \"\" && projectTypes !== null && projectTypes !== undefined ? projectTypes.split(\",\") : [];\n    Object.entries(this.props.projectTypes).map((item, index) => {\n      let isChecked = projectTypeArray.includes(item[1]) ? true : false;\n      array.push({\n        name: item[0],\n        title: item[1].text,\n        checked: isChecked\n      });\n      if (isChecked) this.state.selectedProjectType += (this.state.selectedProjectType !== \"\" ? \",\" : \"\") + item[1].text;\n    });\n    this.setState({\n      projectTypes: array\n    }); // this.bindAllProject()\n  }\n\n  async bindProjectStatuses() {\n    let array = [];\n    let projectStatuses = new URLSearchParams(this.props.location.search).get(\"type\");\n    let projectStatusArray = projectStatuses !== \"\" && projectStatuses !== null && projectStatuses !== undefined ? projectStatuses.split(\",\") : [];\n    Object.entries(this.props.projectStatuses).map((item, index) => {\n      let isChecked = projectStatusArray.includes(item[1]) ? true : false;\n      array.push({\n        name: item[0],\n        title: item[1].text,\n        checked: isChecked\n      });\n      if (isChecked) this.state.selectedProjectStatus += (this.state.selectedProjectStatus !== \"\" ? \",\" : \"\") + item[1].text;\n    });\n    this.setState({\n      projectStatuses: array\n    });\n  }\n\n  async bindAllProject(lastPkEvaluated, move, projectType) {\n    this.setState({\n      isSkeletonLoading: true,\n      projectData: []\n    });\n    let pageNumber = this.state.pagination.pageNumber;\n\n    if (move === \"next\") {\n      this.setState({\n        pagination: { ...this.state.pagination,\n          pageNumber: this.state.pagination.pageNumber + 1\n        }\n      });\n      pageNumber = pageNumber + 1;\n    } else if (move === \"prev\") {\n      this.setState({\n        pagination: { ...this.state.pagination,\n          pageNumber: this.state.pagination.pageNumber - 1\n        }\n      });\n      pageNumber = pageNumber - 1;\n    }\n\n    let selectedProjectStatus = this.state.selectedProjectStatus !== undefined && this.state.selectedProjectStatus !== null && this.state.selectedProjectStatus !== \"\" ? this.state.selectedProjectStatus : \"\";\n    let queryString = `?projectTypes=` + (projectType ? projectType : \"\") + `&projectStatus=` + selectedProjectStatus + `&projectScope=` + this.state.selectedCategory + `&postUserId=` + this.state.clientUserId + `&search=` + this.state.searchProject + `&pageSize=` + this.state.pagination.pageSize + `&pageNumber=` + pageNumber;\n    let result = await request(`${ENDPOINT[\"GetFeaturedContests\"]}` + queryString, getOptions({}));\n\n    if (result.entries) {\n      var _this$state;\n\n      this.setState({\n        isSkeletonLoading: false,\n        projectData: result.entries,\n        pageNumber: result.pageNumber,\n        pageSize: result.pageSize,\n        pagination: { ...this.state.pagination,\n          total: result.total\n        }\n      });\n      let array = result.entries ? result.entries : [];\n      let lastPkEvaluatedTrackLocal = this === null || this === void 0 ? void 0 : (_this$state = this.state) === null || _this$state === void 0 ? void 0 : _this$state.lastPkEvaluatedTrack;\n\n      if (move === \"next\") {\n        lastPkEvaluatedTrackLocal.push(lastPkEvaluated);\n      } else if (move === \"prev\") {\n        lastPkEvaluatedTrackLocal.pop();\n      }\n\n      this.setState({\n        projectData: array,\n        pagination: { ...this.state.pagination,\n          pageSize: this.state.pagination.pageSize,\n          lastPkEvaluated: result.lastPkEvaluated,\n          total: result.total\n        }\n      });\n      window.scrollTo({\n        top: 0,\n        behavior: \"smooth\"\n      });\n    } else {\n      this.setState({\n        isSkeletonLoading: false\n      });\n    }\n  } //#endregion Bind Events\n  //#region Change Event\n\n\n  //#endregion Change Event\n  render() {\n    let {\n      isSkeletonLoading,\n      projectData,\n      projectTypes,\n      projectStatuses,\n      pagination,\n      lastPkEvaluatedTrack,\n      isNextPage,\n      isPreviousPage,\n      topActiveFilter\n    } = this.state;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(SubHeader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"section\", {\n      className: \"card_sec\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"bcknd_container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-2 col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-6\",\n      style: {\n        display: \"none\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(CheckboxCard, {\n      title: \"Status\",\n      data: projectStatuses,\n      type: \"projectStatuses\",\n      onChange: this.onCheckboxChangeHandle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 21\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-8 col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"skeletonLoading_mobile\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Skeleton, {\n      count: this.state.pagination.pageSize,\n      isSkeletonLoading: isSkeletonLoading,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(SkeletonCardBox, {\n      count: this.state.pagination.pageSize,\n      isSkeletonLoading: isSkeletonLoading,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      hidden: true,\n      className: \"all-project-top-filter-area\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      onClick: () => this.setState({\n        topActiveFilter: \"Basic\"\n      }),\n      className: `all-project-top-filter-area-item ${topActiveFilter === \"Basic\" ? \"active\" : \"\"}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-circle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 21\n      }\n    }), \" Basic\"), /*#__PURE__*/React.createElement(\"div\", {\n      onClick: () => this.setState({\n        topActiveFilter: \"High Amount\"\n      }),\n      className: `all-project-top-filter-area-item ${topActiveFilter === \"High Amount\" ? \"active\" : \"\"}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 380,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-circle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 21\n      }\n    }), \" High Amount\"), /*#__PURE__*/React.createElement(\"div\", {\n      onClick: () => this.setState({\n        topActiveFilter: \"End Soon\"\n      }),\n      className: `all-project-top-filter-area-item ${topActiveFilter === \"End Soon\" ? \"active\" : \"\"}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-circle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 398,\n        columnNumber: 21\n      }\n    }), \" End Soon\"), /*#__PURE__*/React.createElement(\"div\", {\n      onClick: () => this.setState({\n        topActiveFilter: \"Matching Skills\"\n      }),\n      className: `all-project-top-filter-area-item ${topActiveFilter === \"Matching Skills\" ? \"active\" : \"\"}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 400,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-circle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 408,\n        columnNumber: 21\n      }\n    }), \" Matching Skills\"), /*#__PURE__*/React.createElement(\"div\", {\n      onClick: () => this.setState({\n        topActiveFilter: \"Location\"\n      }),\n      className: `all-project-top-filter-area-item ${topActiveFilter === \"Location\" ? \"active\" : \"\"}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 410,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-circle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 418,\n        columnNumber: 21\n      }\n    }), \" Location\")), projectData && projectData.length > 0 && projectData.map((project, index) => /*#__PURE__*/React.createElement(ProjectCardbox, {\n      key: `cardProject${index}`,\n      selectedProject: project,\n      index: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 424,\n        columnNumber: 21\n      }\n    })), (projectData === null || projectData === void 0 ? void 0 : projectData.length) > 0 && /*#__PURE__*/React.createElement(Pagination, {\n      isPreviousPage: pagination.pageNumber > 1 ? true : false,\n      isNextPage: pagination.pageNumber * pagination.pageSize < pagination.total ? true : false,\n      lastPkEvaluatedTrack: projectData,\n      pageNumber: pagination.pageNumber,\n      moveBack: () => this.bindAllProject(lastPkEvaluatedTrack[(lastPkEvaluatedTrack === null || lastPkEvaluatedTrack === void 0 ? void 0 : lastPkEvaluatedTrack.length) - 2], \"prev\"),\n      moveNext: () => this.bindAllProject(pagination.lastPkEvaluated, \"next\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 432,\n        columnNumber: 19\n      }\n    }), !isSkeletonLoading && (projectData === null || projectData === void 0 ? void 0 : projectData.length) <= 0 && /*#__PURE__*/React.createElement(NoDataAvailable, Object.assign({\n      title: \"Sorry no project exist yet !\",\n      buttonText: \"Post a new job\",\n      path: \"/project-post\",\n      color: \"#0d2146\"\n    }, this.props, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 455,\n        columnNumber: 19\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-2 col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 464,\n        columnNumber: 15\n      }\n    })))));\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    languageType: state.languageReducer.languageType,\n    language: state.languageReducer.language,\n    activeRoute: state.routeStore.activeRoute,\n    projectTypes: state.languageReducer.projectTypes,\n    authUser: state.authReducer,\n    projectStatuses: state.languageReducer.projectStatuses\n  };\n}\n\nfunction mapDispatchProps(dispatch) {\n  return {\n    onLangaugeChange: langauge => {\n      dispatch(onReduxLangaugeChange(langauge));\n    }\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchProps)(ContestFeaturedPosts);","map":{"version":3,"sources":["/var/www/php74/bearolefrontend/src/container/project/featuredContest/contestPosts.js"],"names":["React","Component","moment","connect","onReduxLangaugeChange","request","ENDPOINT","getOptions","RightTop","RightBottom","CheckboxCard","SubHeader","ProjectCardbox","SkeletonCardBox","Skeleton","Pagination","ProjectTypeFilter","NoDataAvailable","ContestFeaturedPosts","constructor","props","onLangaugeDataChange","language","localStorage","setItem","JSON","stringify","onLangaugeChange","onCheckboxChangeHandle","event","type","index","name","bindAllProject","replace","onCheckboxChangeHandle12","projectTypes","projectStatuses","state","checked","target","selectedProjectType","map","element","i","title","selectedProjectStatus","setState","lastPkEvaluatedTrack","redirectTo","searchProject","selectedCategory","location","pathname","history","push","URLSearchParams","search","get","category","projectStatusArray","undefined","split","length","join","clientUserId","authUser","clientAuth","clientId","topActiveFilter","projectData","isSkeletonLoading","pagination","pageSize","lastPkEvaluated","pageNumber","total","isNextPage","isPreviousPage","projectType","componentDidUpdate","prevProps","prevState","snapshot","bindProjectTypes","componentWillReceiveProps","nextProps","componentWillMount","data","getItem","langauge","parse","bindProjectStatuses","array","projectTypeArray","Object","entries","item","isChecked","includes","text","move","queryString","result","lastPkEvaluatedTrackLocal","pop","window","scrollTo","top","behavior","render","display","project","mapStateToProps","languageType","languageReducer","activeRoute","routeStore","authReducer","mapDispatchProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport moment from \"moment\";\nimport { connect } from \"react-redux\";\nimport { onReduxLangaugeChange } from \"../../../store/action/action\";\nimport request from \"../../../utils/request\";\nimport { ENDPOINT } from \"../../../utils/endpoint\";\nimport { getOptions } from \"../../../utils/httpConfig\";\nimport RightTop from \"../../../components/rightbar/rightTop\";\nimport RightBottom from \"../../../components/rightbar/rightBottom\";\nimport CheckboxCard from \"../../../components/checkboxCard/checkboxCard.jsx\";\nimport SubHeader from \"../../../components/subHeader\";\nimport ProjectCardbox from \"./cardbox\";\nimport \"./featuredContest.scss\";\nimport SkeletonCardBox from \"../../../components/skeleton/skeletonCardBox/skeletonCardBox\"; \nimport Skeleton from \"../../../components/skeleton/skeleton\";\nimport Pagination from \"../../../components/pagination\";\nimport ProjectTypeFilter from \"../../../components/project/projectTypeFilter\";\nimport NoDataAvailable from \"../../../shared/error/not-data-available-new\";\n\nclass ContestFeaturedPosts extends Component {\n  constructor(props) {\n    super(props);\n\n    let searchProject = new URLSearchParams(this.props.location.search).get(\n      \"searchProject\"\n    );\n    let category = new URLSearchParams(this.props.location.search).get(\n      \"category\"\n    );\n    let projectStatuses = new URLSearchParams(this.props.location.search).get(\n      \"status\"\n    );\n    let projectStatusArray =\n      projectStatuses !== \"\" &&\n      projectStatuses !== null &&\n      projectStatuses !== undefined\n        ? projectStatuses.split(\",\")\n        : [];\n\n    this.state = {\n      searchProject:\n        searchProject !== null &&\n        searchProject !== \"\" &&\n        searchProject !== undefined\n          ? searchProject\n          : \"\",\n      selectedCategory:\n        category !== null && category !== \"\" && category !== undefined\n          ? category\n          : \"\",\n      selectedProjectType: \"\",\n      selectedProjectStatus:\n        projectStatusArray.length > 0 ? projectStatusArray.join() : \"\",\n      clientUserId: props.authUser?.clientAuth?.clientId,\n      projectTypes: [],\n      projectStatuses: [],\n      topActiveFilter: \"Basic\",\n      projectData: [],\n      isSkeletonLoading: false,\n      pagination: {\n        pageSize: 10,\n        lastPkEvaluated: \"\",\n        pageNumber: 1,\n        total: 20,\n      },\n      lastPkEvaluatedTrack: [],\n      isNextPage: true,\n      isPreviousPage: false,\n      projectType: \"\",\n    };\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if (prevProps !== this.props) {\n      if (prevProps.location !== this.location) {\n        if (prevProps.location.search !== this.props.location.search) {\n          this.bindProjectTypes();\n        }\n      }\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    let category = new URLSearchParams(nextProps.location.search).get(\n      \"category\"\n    );\n    let searchProject = new URLSearchParams(nextProps.location.search).get(\n      \"searchProject\"\n    );\n    // let projectTypes = new URLSearchParams(this.props.location.search).get(\"type\");\n\n    this.state.searchProject =\n      searchProject !== null &&\n      searchProject !== \"\" &&\n      searchProject !== undefined\n        ? searchProject\n        : \"\";\n    this.state.selectedCategory =\n      category !== null && category !== \"\" && category !== undefined\n        ? category\n        : \"\";\n\n    this.setState(\n      {\n        lastPkEvaluatedTrack: [],\n      },\n      () => {}\n    );\n\n    (category || searchProject) && this.bindAllProject(\"\", \"\");\n  }\n\n  componentWillMount() {\n    let data = localStorage.getItem(\"langauge\");\n    let langauge = JSON.parse(data);\n    if (langauge) {\n      this.props.onLangaugeChange(langauge);\n    }\n    this.bindProjectTypes();\n    this.bindProjectStatuses();\n    this.bindAllProject(\"\", \"\");\n  }\n\n  //#region Bind Events\n  async bindProjectTypes() {\n    /*  debugger */\n    let array = [];\n\n    let projectTypes = new URLSearchParams(this.props.location.search).get(\n      \"type\"\n    );\n\n    let projectTypeArray =\n      projectTypes !== \"\" && projectTypes !== null && projectTypes !== undefined\n        ? projectTypes.split(\",\")\n        : [];\n\n    Object.entries(this.props.projectTypes).map((item, index) => {\n      let isChecked = projectTypeArray.includes(item[1]) ? true : false;\n      array.push({\n        name: item[0],\n        title: item[1].text,\n        checked: isChecked,\n      });\n      if (isChecked)\n        this.state.selectedProjectType +=\n          (this.state.selectedProjectType !== \"\" ? \",\" : \"\") + item[1].text;\n    });\n    this.setState({ projectTypes: array });\n    // this.bindAllProject()\n  }\n\n  async bindProjectStatuses() {\n    let array = [];\n\n    let projectStatuses = new URLSearchParams(this.props.location.search).get(\n      \"type\"\n    );\n\n    let projectStatusArray =\n      projectStatuses !== \"\" &&\n      projectStatuses !== null &&\n      projectStatuses !== undefined\n        ? projectStatuses.split(\",\")\n        : [];\n\n    Object.entries(this.props.projectStatuses).map((item, index) => {\n      let isChecked = projectStatusArray.includes(item[1]) ? true : false;\n      array.push({\n        name: item[0],\n        title: item[1].text,\n        checked: isChecked,\n      });\n      if (isChecked)\n        this.state.selectedProjectStatus +=\n          (this.state.selectedProjectStatus !== \"\" ? \",\" : \"\") + item[1].text;\n    });\n    this.setState({ projectStatuses: array });\n  }\n\n  async bindAllProject(lastPkEvaluated, move, projectType) {\n    this.setState({ isSkeletonLoading: true, projectData: [] });\n\n    let pageNumber = this.state.pagination.pageNumber;\n    if (move === \"next\") {\n      this.setState({\n        pagination: {\n          ...this.state.pagination,\n          pageNumber: this.state.pagination.pageNumber + 1,\n        },\n      });\n      pageNumber = pageNumber + 1;\n    } else if (move === \"prev\") {\n      this.setState({\n        pagination: {\n          ...this.state.pagination,\n          pageNumber: this.state.pagination.pageNumber - 1,\n        },\n      });\n      pageNumber = pageNumber - 1;\n    }\n    let selectedProjectStatus =\n      this.state.selectedProjectStatus !== undefined &&\n      this.state.selectedProjectStatus !== null &&\n      this.state.selectedProjectStatus !== \"\"\n        ? this.state.selectedProjectStatus\n        : \"\";\n\n    let queryString =\n      `?projectTypes=` +\n      (projectType ? projectType : \"\") +\n      `&projectStatus=` +\n      selectedProjectStatus +\n      `&projectScope=` +\n      this.state.selectedCategory +\n      `&postUserId=` +\n      this.state.clientUserId +\n      `&search=` +\n      this.state.searchProject +\n      `&pageSize=` +\n      this.state.pagination.pageSize +\n      `&pageNumber=` +\n      pageNumber;\n\n    let result = await request(\n      `${ENDPOINT[\"GetFeaturedContests\"]}` + queryString,\n      getOptions({})\n    );\n    if (result.entries) {\n      this.setState({\n        isSkeletonLoading: false,\n        projectData: result.entries,\n        pageNumber: result.pageNumber,\n        pageSize: result.pageSize,\n        pagination: { ...this.state.pagination, total: result.total },\n      });\n      let array =\n      result.entries ? result.entries : [];\n   \n\n      let lastPkEvaluatedTrackLocal = this?.state?.lastPkEvaluatedTrack;\n      if (move === \"next\") {\n        lastPkEvaluatedTrackLocal.push(lastPkEvaluated);\n      } else if (move === \"prev\") {\n        lastPkEvaluatedTrackLocal.pop();\n      }\n      this.setState({\n        projectData: array,\n        pagination: {\n          ...this.state.pagination,\n          pageSize: this.state.pagination.pageSize,\n          lastPkEvaluated: result.lastPkEvaluated,\n          total: result.total,\n        },\n      });\n\n      window.scrollTo({\n        top: 0,\n        behavior: \"smooth\",\n      });\n    } else {\n      this.setState({ isSkeletonLoading: false });\n    }\n  }\n  //#endregion Bind Events\n\n  //#region Change Event\n  onLangaugeDataChange = (language) => {\n    localStorage.setItem(\"langauge\", JSON.stringify(language));\n    this.props.onLangaugeChange(language);\n  };\n  onCheckboxChangeHandle = (event, type, index, name) => {\n    this.bindAllProject(\"\", \"\", name.replace(/\\s/g, \"\"));\n  };\n  onCheckboxChangeHandle12 = (event, type, index, name) => {\n    this.bindAllProject(\"\", \"\", name.replace(/\\s/g, \"\"));\n    let { projectTypes, projectStatuses } = this.state;\n    if (type === \"projectTypes\") {\n      projectTypes[index].checked = event.target.checked;\n      this.state.selectedProjectType = \"\";\n      projectTypes.map((element, i) => {\n        if (element.checked)\n          this.state.selectedProjectType +=\n            (this.state.selectedProjectType !== \"\" ? \",\" : \"\") + element.title;\n      });\n    }\n    if (type === \"projectStatuses\") {\n      projectStatuses[index].checked = event.target.checked;\n      this.state.selectedProjectStatus = \"\";\n      projectStatuses.map((element, i) => {\n        if (element.checked)\n          this.state.selectedProjectStatus +=\n            (this.state.selectedProjectStatus !== \"\" ? \",\" : \"\") +\n            element.title;\n      });\n    }\n    this.setState({ projectTypes, projectStatuses, lastPkEvaluatedTrack: [] });\n\n    let redirectTo = \"\";\n    if (this.state.searchProject !== \"\")\n      redirectTo += \"?searchProject=\" + this.state.searchProject;\n    if (this.state.selectedCategory !== \"\")\n      redirectTo +=\n        (redirectTo !== \"\" ? \"&category=\" : \"?category=\") +\n        this.state.selectedCategory;\n    if (this.state.selectedProjectType !== \"\")\n      redirectTo +=\n        (redirectTo !== \"\" ? \"&type=\" : \"?type=\") +\n        this.state.selectedProjectType;\n    if (this.state.selectedProjectStatus !== \"\")\n      redirectTo +=\n        (redirectTo !== \"\" ? \"&status=\" : \"?status=\") +\n        this.state.selectedProjectStatus;\n\n    redirectTo +=\n      redirectTo === \"\" ? `${this.props.location.pathname}?type=\"\"` : \"\";\n    this.props.history.push(redirectTo);\n  };\n  //#endregion Change Event\n\n  render() {\n    let {\n      isSkeletonLoading,\n      projectData,\n      projectTypes,\n      projectStatuses,\n      pagination,\n      lastPkEvaluatedTrack,\n      isNextPage,\n      isPreviousPage,\n      topActiveFilter,\n    } = this.state;\n    return (\n      <>\n        <SubHeader />\n        <section className=\"card_sec\">\n          <div className=\"bcknd_container\">\n            <div className=\"row\">\n              <div className=\"col-lg-2 col-md-12\">\n                <div className=\"row\">\n                  <div className=\"col-lg-12 col-md-6\">\n                    {/* <ProjectTypeFilter onChange={this.onCheckboxChangeHandle} /> */}\n                  </div>\n                  <div\n                    className=\"col-lg-12 col-md-6\"\n                    style={{ display: \"none\" }}\n                  >\n                    <CheckboxCard\n                      title=\"Status\"\n                      data={projectStatuses}\n                      type=\"projectStatuses\"\n                      onChange={this.onCheckboxChangeHandle}\n                    />\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"col-lg-8 col-md-12\">\n                <div className=\"skeletonLoading_mobile\">\n                  <Skeleton\n                    count={this.state.pagination.pageSize}\n                    isSkeletonLoading={isSkeletonLoading}\n                  />\n                </div>\n                \n                <SkeletonCardBox\n                  count={this.state.pagination.pageSize}\n                  isSkeletonLoading={isSkeletonLoading} \n                />\n\n                <div hidden={true} className=\"all-project-top-filter-area\">\n                  <div\n                    onClick={() => this.setState({ topActiveFilter: \"Basic\" })}\n                    className={`all-project-top-filter-area-item ${\n                      topActiveFilter === \"Basic\" ? \"active\" : \"\"\n                    }`}\n                  >\n                    <i className=\"fa fa-circle\" /> Basic\n                  </div>\n                  <div\n                    onClick={() =>\n                      this.setState({ topActiveFilter: \"High Amount\" })\n                    }\n                    className={`all-project-top-filter-area-item ${\n                      topActiveFilter === \"High Amount\" ? \"active\" : \"\"\n                    }`}\n                  >\n                    <i className=\"fa fa-circle\" /> High Amount\n                  </div>\n                  <div\n                    onClick={() =>\n                      this.setState({ topActiveFilter: \"End Soon\" })\n                    }\n                    className={`all-project-top-filter-area-item ${\n                      topActiveFilter === \"End Soon\" ? \"active\" : \"\"\n                    }`}\n                  >\n                    <i className=\"fa fa-circle\" /> End Soon\n                  </div>\n                  <div\n                    onClick={() =>\n                      this.setState({ topActiveFilter: \"Matching Skills\" })\n                    }\n                    className={`all-project-top-filter-area-item ${\n                      topActiveFilter === \"Matching Skills\" ? \"active\" : \"\"\n                    }`}\n                  >\n                    <i className=\"fa fa-circle\" /> Matching Skills\n                  </div>\n                  <div\n                    onClick={() =>\n                      this.setState({ topActiveFilter: \"Location\" })\n                    }\n                    className={`all-project-top-filter-area-item ${\n                      topActiveFilter === \"Location\" ? \"active\" : \"\"\n                    }`}\n                  >\n                    <i className=\"fa fa-circle\" /> Location\n                  </div>\n                </div>\n                {projectData &&\n                  projectData.length > 0 &&\n                  projectData.map((project, index) => (\n                    <ProjectCardbox\n                      key={`cardProject${index}`}\n                      selectedProject={project}\n                      index={index}\n                    />\n                  ))}\n\n                { projectData?.length > 0 && (\n                  <Pagination\n                    isPreviousPage={pagination.pageNumber > 1 ? true : false}\n                    isNextPage={\n                      pagination.pageNumber * pagination.pageSize <\n                      pagination.total\n                        ? true\n                        : false\n                    }\n                    lastPkEvaluatedTrack={projectData}\n                    pageNumber={pagination.pageNumber}\n                    moveBack={() =>\n                      this.bindAllProject(\n                        lastPkEvaluatedTrack[lastPkEvaluatedTrack?.length - 2],\n                        \"prev\"\n                      )\n                    }\n                    moveNext={() =>\n                      this.bindAllProject(pagination.lastPkEvaluated, \"next\")\n                    }\n                  />\n                )}\n\n                {!isSkeletonLoading && projectData?.length <= 0 && (\n                  <NoDataAvailable\n                    title=\"Sorry no project exist yet !\"\n                    buttonText=\"Post a new job\"\n                    path=\"/project-post\"\n                    color={\"#0d2146\"}\n                    {...this.props}\n                  />\n                )}\n              </div>\n              <div className=\"col-lg-2 col-md-12\">\n              </div>\n            </div>\n          </div>\n        </section>\n      </>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    languageType: state.languageReducer.languageType,\n    language: state.languageReducer.language,\n    activeRoute: state.routeStore.activeRoute,\n    projectTypes: state.languageReducer.projectTypes,\n    authUser: state.authReducer,\n    projectStatuses: state.languageReducer.projectStatuses,\n  };\n}\n\nfunction mapDispatchProps(dispatch) {\n  return {\n    onLangaugeChange: (langauge) => {\n      dispatch(onReduxLangaugeChange(langauge));\n    },\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchProps)(ContestFeaturedPosts);\n"]},"metadata":{},"sourceType":"module"}