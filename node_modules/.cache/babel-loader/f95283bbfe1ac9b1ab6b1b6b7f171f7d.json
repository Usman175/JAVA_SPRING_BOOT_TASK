{"ast":null,"code":"var _jsxFileName = \"/var/www/php74/bearolefrontend/src/container/project/myproject/middleSection.jsx\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router-dom\";\nimport ShowMoreText from \"react-show-more-text\";\nimport { onReduxSelcteProjectChange } from \"../../../store/action/action\";\nimport { getContestByIdRequestSuccess } from \"../../../store/action/Contest/contestActions\";\nimport { ProjectType, ProjectStatus } from \"../../../utils/projectConst\";\nimport { UserTypeConst } from \"../../../utils/userTypeConst\";\nimport ProjectStatusBadge from \"../../../components/project/projectStatusBadge\";\nimport ProgressBar from \"../../../components/progressBar/progressBar\";\nimport \"./freelancerContract_secResponsive.scss\";\n\nclass MiddleSection extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleRedirectDetail = () => {\n      let type = this.props.projectObj.projectType;\n      let contractData = this.props.contractData;\n\n      if (type === \"Hourly\") {\n        this.props.history.push({\n          pathname: \"/hourly-contract-detail-freelancer\",\n          state: contractData\n        });\n      }\n\n      if (type === \"Milestone\") {\n        this.props.history.push({\n          pathname: \"/milestone-contract-detail-freelancer\",\n          state: contractData\n        });\n      }\n\n      if (type === \"FreeContract\") {\n        this.props.history.push({\n          pathname: \"/free-contract-detail-freelancer\",\n          state: contractData\n        });\n      }\n\n      if (type === \"OfficeWork\") {\n        this.props.history.push({\n          pathname: \"/office-contract-detail-freelancer\",\n          state: contractData\n        });\n      }\n\n      if (type === \"Contest\") {\n        var _contractData$project;\n\n        this.props.history.push(`/my-contest?projectId=${contractData === null || contractData === void 0 ? void 0 : (_contractData$project = contractData.project) === null || _contractData$project === void 0 ? void 0 : _contractData$project.projectId}`);\n      }\n    };\n\n    let sessionUserType = sessionStorage.getItem(\"userType\");\n    this.state = {\n      userType: sessionUserType,\n      noOfTasks: 0,\n      completedTasks: 0,\n      taskCompletionPer: 0,\n      milagePer: 0,\n      milagePayout: 0\n    };\n  }\n\n  componentDidMount() {\n    let {\n      projectObj\n    } = this.props;\n\n    if (projectObj === null || projectObj === void 0 ? void 0 : projectObj.projectId) {\n      var _projectObj$milestone, _projectObj$milestone2;\n\n      const noOfTasksLocal = projectObj && projectObj.milestoneDetail && projectObj.milestoneDetail.length;\n      const completedTasksLocal = projectObj === null || projectObj === void 0 ? void 0 : (_projectObj$milestone = projectObj.milestoneDetail) === null || _projectObj$milestone === void 0 ? void 0 : _projectObj$milestone.filter(item => item === null || item === void 0 ? void 0 : item.milestoneCompleted);\n      const milagePayoutLocal = projectObj === null || projectObj === void 0 ? void 0 : (_projectObj$milestone2 = projectObj.milestoneDetail) === null || _projectObj$milestone2 === void 0 ? void 0 : _projectObj$milestone2.filter(item => (item === null || item === void 0 ? void 0 : item.milestoneCompleted) && (item === null || item === void 0 ? void 0 : item.releaseDate));\n      const tasksPerLocal = completedTasksLocal ? completedTasksLocal.length / noOfTasksLocal * 100 : 0;\n      const totalMilagePayout = milagePayoutLocal && milagePayoutLocal.reduce((a, b) => +a + +b.milestoneAmount, 0);\n      const milagePerLocal = totalMilagePayout / (projectObj === null || projectObj === void 0 ? void 0 : projectObj.projectAmount) * 100;\n      this.setState({\n        noOfTasks: noOfTasksLocal || 0,\n        completedTasksLocal: completedTasksLocal ? completedTasksLocal.length : 0,\n        taskCompletionPer: tasksPerLocal,\n        milagePer: milagePerLocal,\n        milagePayout: totalMilagePayout\n      });\n    }\n  }\n\n  render() {\n    let {\n      projectObj,\n      contractStatus,\n      languageType,\n      contractData\n    } = this.props;\n    let isMilestone = projectObj.projectType === ProjectType.Milestone;\n    let isHourly = projectObj.projectType === ProjectType.Hourly;\n    let isFreeContract = projectObj.projectType === ProjectType.FreeContract;\n    let iscontest = projectObj.projectType === ProjectType.Contest;\n    let active = projectObj.projectStatus === ProjectStatus.Active;\n    let waitigForInitialDeposit = projectObj.projectStatus === ProjectType.WaitingForInitialDeposit;\n\n    const amountPaid = () => {\n      if (isHourly || isFreeContract) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"row m-0 middleFreelancer_contract_PaidTotal\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-6 p-0\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(\"h4\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 15\n          }\n        }, \"Paid Total: US$230.00\")), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-6 p-0\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(\"h4\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 15\n          }\n        }, \"Paid Hours: 235\")));\n      } else return null;\n    };\n\n    const progressInfo = () => {\n      if (isMilestone && !waitigForInitialDeposit) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"flex flex-align-center middleFreelancer_contract_progressBar\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"mr-2\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(ProgressBar, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 15\n          }\n        })), /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(\"h4\", {\n          className: \"m-0\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 15\n          }\n        }, \"Paid Total: US$230.00\")));\n      } else return null;\n    };\n\n    const contestResults = () => {\n      if (active) {\n        return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"contest\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          src: \"https://jungleworksassetsbucket.s3.ap-northeast-2.amazonaws.com/bearoleImages/firstPass.png\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 15\n          }\n        }), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"firstPass\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(\"h4\", {\n          className: \"m-o\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 17\n          }\n        }, \"You are selected in the 1st pass\"))));\n      } else if (projectObj.award) {\n        return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"contest\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(\"h4\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 15\n          }\n        }, \"Awarded 2nd US$200000.00\"), /*#__PURE__*/React.createElement(\"img\", {\n          src: \"https://jungleworksassetsbucket.s3.ap-northeast-2.amazonaws.com/bearoleImages/firstAward.svg\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 15\n          }\n        })));\n      }\n    };\n\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"design_work middleFreelancer_contract_designWork\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      title: projectObj && projectObj.jobTitle && projectObj.jobTitle,\n      className: \"font_arial underline_hover pb-2 text-title freelancerMiddle_headingContract\",\n      onClick: this.handleRedirectDetail,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 11\n      }\n    }, projectObj && projectObj.jobTitle && projectObj.jobTitle.length > 25 ? projectObj.jobTitle.slice(0, 25) + \"...\" : projectObj && projectObj.jobTitle || \" \"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(ShowMoreText, {\n      lines: 3,\n      more: \"show more\",\n      less: \"Show Less\",\n      className: \"content-css\",\n      anchorClass: \"view-more-less\",\n      expanded: false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        color: \"#333333 !important\"\n      },\n      dangerouslySetInnerHTML: {\n        __html: projectObj.jobDescription\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 19\n      }\n    }))), amountPaid(), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"status-badge\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(ProjectStatusBadge, {\n      projectBadge: contractStatus,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 13\n      }\n    }))), progressInfo(), iscontest && contestResults());\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    languageType: state.languageReducer.languageType,\n    activeRoute: state.routeStore.activeRoute\n  };\n}\n\nfunction mapDispatchProps(dispatch) {\n  return {\n    onSelcteProjectChange: selectedProject => {\n      dispatch(onReduxSelcteProjectChange(selectedProject));\n    },\n    getContestByIdRequestSuccess: selectedProject => {\n      dispatch(getContestByIdRequestSuccess(selectedProject));\n    }\n  };\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchProps)(MiddleSection));","map":{"version":3,"sources":["/var/www/php74/bearolefrontend/src/container/project/myproject/middleSection.jsx"],"names":["React","Component","connect","withRouter","ShowMoreText","onReduxSelcteProjectChange","getContestByIdRequestSuccess","ProjectType","ProjectStatus","UserTypeConst","ProjectStatusBadge","ProgressBar","MiddleSection","constructor","props","handleRedirectDetail","type","projectObj","projectType","contractData","history","push","pathname","state","project","projectId","sessionUserType","sessionStorage","getItem","userType","noOfTasks","completedTasks","taskCompletionPer","milagePer","milagePayout","componentDidMount","noOfTasksLocal","milestoneDetail","length","completedTasksLocal","filter","item","milestoneCompleted","milagePayoutLocal","releaseDate","tasksPerLocal","totalMilagePayout","reduce","a","b","milestoneAmount","milagePerLocal","projectAmount","setState","render","contractStatus","languageType","isMilestone","Milestone","isHourly","Hourly","isFreeContract","FreeContract","iscontest","Contest","active","projectStatus","Active","waitigForInitialDeposit","WaitingForInitialDeposit","amountPaid","progressInfo","contestResults","award","jobTitle","slice","color","__html","jobDescription","mapStateToProps","languageReducer","activeRoute","routeStore","mapDispatchProps","dispatch","onSelcteProjectChange","selectedProject"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router-dom\";\nimport ShowMoreText from \"react-show-more-text\";\nimport { onReduxSelcteProjectChange } from \"../../../store/action/action\";\nimport { getContestByIdRequestSuccess } from \"../../../store/action/Contest/contestActions\";\nimport { ProjectType, ProjectStatus } from \"../../../utils/projectConst\";\nimport { UserTypeConst } from \"../../../utils/userTypeConst\";\nimport ProjectStatusBadge from \"../../../components/project/projectStatusBadge\";\nimport ProgressBar from \"../../../components/progressBar/progressBar\";\nimport \"./freelancerContract_secResponsive.scss\";\n\nclass MiddleSection extends Component {\n  constructor(props) {\n    super(props);\n    let sessionUserType = sessionStorage.getItem(\"userType\");\n    this.state = {\n      userType: sessionUserType,\n      noOfTasks: 0,\n      completedTasks: 0,\n      taskCompletionPer: 0,\n      milagePer: 0,\n      milagePayout: 0,\n    };\n  }\n\n\n  componentDidMount() {\n    let { projectObj } = this.props;\n\n    if (projectObj?.projectId) {\n      const noOfTasksLocal =\n        projectObj &&\n        projectObj.milestoneDetail &&\n        projectObj.milestoneDetail.length;\n      const completedTasksLocal = projectObj?.milestoneDetail?.filter(\n        (item) => item?.milestoneCompleted\n      );\n      const milagePayoutLocal = projectObj?.milestoneDetail?.filter(\n        (item) => item?.milestoneCompleted && item?.releaseDate\n      );\n      const tasksPerLocal = completedTasksLocal\n        ? (completedTasksLocal.length / noOfTasksLocal) * 100\n        : 0;\n      const totalMilagePayout =\n        milagePayoutLocal &&\n        milagePayoutLocal.reduce((a, b) => +a + +b.milestoneAmount, 0);\n      const milagePerLocal =\n        (totalMilagePayout / projectObj?.projectAmount) * 100;\n\n      this.setState({\n        noOfTasks: noOfTasksLocal || 0,\n        completedTasksLocal: completedTasksLocal\n          ? completedTasksLocal.length\n          : 0,\n        taskCompletionPer: tasksPerLocal,\n        milagePer: milagePerLocal,\n        milagePayout: totalMilagePayout,\n      });\n    }\n  }\n\n   handleRedirectDetail = () => {\n     let type=this.props.projectObj.projectType;\n     let contractData=this.props.contractData;\n    if (type === \"Hourly\") {\n      this.props.history.push({\n        pathname: \"/hourly-contract-detail-freelancer\",\n        state: contractData,\n      });\n    }\n    if (type === \"Milestone\") {\n      this.props.history.push({\n        pathname: \"/milestone-contract-detail-freelancer\",\n        state: contractData,\n      });\n    }\n    if (type === \"FreeContract\") {\n      this.props.history.push({\n        pathname: \"/free-contract-detail-freelancer\",\n        state: contractData,\n      });\n    }\n\n    if (type === \"OfficeWork\") {\n      this.props.history.push({\n        pathname: \"/office-contract-detail-freelancer\",\n        state: contractData,\n      });\n    }\n\n    if (type === \"Contest\") {\n      this.props.history.push(`/my-contest?projectId=${contractData?.project?.projectId}`);\n    }\n  };\n\n  render() {\n    let { projectObj,contractStatus, languageType,contractData } = this.props;\n    let isMilestone = projectObj.projectType === ProjectType.Milestone;\n    let isHourly = projectObj.projectType === ProjectType.Hourly;\n    let isFreeContract = projectObj.projectType === ProjectType.FreeContract;\n    let iscontest = projectObj.projectType === ProjectType.Contest;\n    let active = projectObj.projectStatus === ProjectStatus.Active;\n    let waitigForInitialDeposit =\n      projectObj.projectStatus === ProjectType.WaitingForInitialDeposit;\n    const amountPaid = () => {\n      if (isHourly || isFreeContract) {\n        return (\n          <div className=\"row m-0 middleFreelancer_contract_PaidTotal\">\n            <div className=\"col-6 p-0\">\n              <h4>Paid Total: US$230.00</h4>\n            </div>\n            <div className=\"col-6 p-0\">\n              <h4>Paid Hours: 235</h4>\n            </div>\n          </div>\n        );\n      } else return null;\n    };\n\n    const progressInfo = () => {\n      if (isMilestone && !waitigForInitialDeposit) {\n        return (\n          <div className=\"flex flex-align-center middleFreelancer_contract_progressBar\">\n            <div className=\"mr-2\">\n              <ProgressBar />\n            </div>\n            <div>\n              <h4 className=\"m-0\">Paid Total: US$230.00</h4>\n            </div>\n          </div>\n        );\n      } else return null;\n    };\n\n    const contestResults = () => {\n      if (active) {\n        return (\n          <>\n            <div className=\"contest\">\n              <img src={\"https://jungleworksassetsbucket.s3.ap-northeast-2.amazonaws.com/bearoleImages/firstPass.png\"} />\n              <div className=\"firstPass\">\n                <h4 className=\"m-o\">You are selected in the 1st pass</h4>\n              </div>\n            </div>\n          </>\n        );\n      } else if (projectObj.award) {\n        return (\n          <>\n            <div className=\"contest\">\n              <h4>Awarded 2nd US$200000.00</h4>\n              <img src={\"https://jungleworksassetsbucket.s3.ap-northeast-2.amazonaws.com/bearoleImages/firstAward.svg\"} />\n            </div>\n          </>\n        );\n      }\n    };\n\n    return (\n      <>\n        <div className=\"design_work middleFreelancer_contract_designWork\">\n          <h3\n            title={projectObj && projectObj.jobTitle && projectObj.jobTitle}\n            className=\"font_arial underline_hover pb-2 text-title freelancerMiddle_headingContract\"\n            onClick={this.handleRedirectDetail}\n          >\n            {projectObj &&\n            projectObj.jobTitle &&\n            projectObj.jobTitle.length > 25\n              ? projectObj.jobTitle.slice(0, 25) + \"...\"\n              : (projectObj && projectObj.jobTitle) || \" \"}\n          </h3>\n\n          <p className=\"mb-2\">\n          <ShowMoreText\n                  lines={3}\n                  more=\"show more\"\n                  less=\"Show Less\"\n                  className=\"content-css\"\n                  anchorClass=\"view-more-less\"\n                  expanded={false}\n                >\n                  <p\n                    style={{ color: \"#333333 !important\" }}\n                    dangerouslySetInnerHTML={{\n                      __html: projectObj.jobDescription,\n                    }}\n                  ></p>\n                </ShowMoreText>\n           \n          </p>\n\n          {amountPaid()}\n\n          <div className=\"status-badge\">\n            <ProjectStatusBadge projectBadge={contractStatus} />\n          </div>\n        </div>\n\n        {progressInfo()}\n        {iscontest && contestResults()}\n      </>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    languageType: state.languageReducer.languageType,\n    activeRoute: state.routeStore.activeRoute,\n  };\n}\n\nfunction mapDispatchProps(dispatch) {\n  return {\n    onSelcteProjectChange: (selectedProject) => {\n      dispatch(onReduxSelcteProjectChange(selectedProject));\n    },\n    getContestByIdRequestSuccess: (selectedProject) => {\n      dispatch(getContestByIdRequestSuccess(selectedProject));\n    },\n  };\n}\n\nexport default withRouter(\n  connect(mapStateToProps, mapDispatchProps)(MiddleSection)\n);\n"]},"metadata":{},"sourceType":"module"}