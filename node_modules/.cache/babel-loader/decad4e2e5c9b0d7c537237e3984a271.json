{"ast":null,"code":"var _jsxFileName = \"/var/www/php74/bearolefrontend/src/components/searchBox/index.js\";\nimport React, { useState, useRef, useEffect } from \"react\";\nimport v4 from \"uuid\"; // import './styles.scss';\n\nconst searchFilter = (searchValue, list, searchBy = \"value\") => {\n  let lowerCaseQuery = searchValue.toLowerCase();\n  let filteredList = searchValue ? list.filter(x => x[searchBy].toLowerCase().includes(lowerCaseQuery)) : list;\n  return filteredList;\n};\n\nconst DropdownItems = ({\n  placeholder,\n  items,\n  selectItem\n}) => {\n  const [visible, setVisible] = useState(false);\n  const [searchValue, setSearchValue] = useState(\"\");\n  const [selectedItem, setSelectedItem] = useState(null);\n  const dropdownRef = useRef(null); // click away listener\n\n  useEffect(() => {\n    document.addEventListener(\"mousedown\", handleClick, false);\n    return () => document.removeEventListener(\"mousedown\", handleClick, false);\n  }, []);\n\n  const handleClick = e => {\n    if (dropdownRef.current.contains(e.target)) {\n      return;\n    }\n\n    setVisible(false);\n  };\n\n  const handleChange = e => {\n    setSearchValue(e.target.value);\n\n    if (!visible) {\n      setVisible(true);\n    }\n  };\n\n  const handleSelectItem = item => {\n    setSearchValue(item.value);\n    setSelectedItem(item.id);\n    setVisible(false);\n    selectItem(item.value);\n    setSearchValue(\"\");\n  };\n\n  const selectChange = e => {\n    console.log(e.target.value);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: `wrapper-input ${visible ? \"active\" : \"\"}  no-border p-0`,\n    onClick: () => setVisible(!visible),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-control\",\n    type: \"text\",\n    placeholder: placeholder,\n    value: searchValue,\n    onChange: handleChange,\n    onKeyDown: e => {\n      if (e.key === \"Enter\") {\n        handleSelectItem({\n          value: e.target.value,\n          id: e.target.value\n        });\n      }\n    } // onKeyPress={(e)=> e.iey === 'Enter' && handleSelectItem}\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    ref: dropdownRef,\n    className: `dropdown ${visible ? \"v\" : \"\"}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }\n  }, visible && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dropdown\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"dropdown-inner\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, !items && /*#__PURE__*/React.createElement(\"li\", {\n    key: \"zxc\",\n    className: \"dropdown_item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }\n  }, \"no result\"), items && searchFilter(searchValue, items).map(item => /*#__PURE__*/React.createElement(\"li\", {\n    key: item.id,\n    onClick: () => handleSelectItem(item),\n    className: \"dropdown_item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 21\n    }\n  }, item.icon && /*#__PURE__*/React.createElement(\"i\", {\n    className: `${item.icon} icon-large`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 25\n    }\n  }), item.text)))))));\n};\n\nexport default DropdownItems;","map":{"version":3,"sources":["/var/www/php74/bearolefrontend/src/components/searchBox/index.js"],"names":["React","useState","useRef","useEffect","v4","searchFilter","searchValue","list","searchBy","lowerCaseQuery","toLowerCase","filteredList","filter","x","includes","DropdownItems","placeholder","items","selectItem","visible","setVisible","setSearchValue","selectedItem","setSelectedItem","dropdownRef","document","addEventListener","handleClick","removeEventListener","e","current","contains","target","handleChange","value","handleSelectItem","item","id","selectChange","console","log","key","map","icon","text"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\nimport v4 from \"uuid\"; // import './styles.scss';\n\nconst searchFilter = (searchValue, list, searchBy = \"value\") => {\n  let lowerCaseQuery = searchValue.toLowerCase();\n  let filteredList = searchValue\n    ? list.filter((x) => x[searchBy].toLowerCase().includes(lowerCaseQuery))\n    : list;\n  return filteredList;\n};\n\nconst DropdownItems = ({ placeholder, items, selectItem }) => {\n  const [visible, setVisible] = useState(false);\n  const [searchValue, setSearchValue] = useState(\"\");\n  const [selectedItem, setSelectedItem] = useState(null);\n  const dropdownRef = useRef(null);\n\n  // click away listener\n  useEffect(() => {\n    document.addEventListener(\"mousedown\", handleClick, false);\n    return () => document.removeEventListener(\"mousedown\", handleClick, false);\n  }, []);\n\n  const handleClick = (e) => {\n    if (dropdownRef.current.contains(e.target)) {\n      return;\n    }\n    setVisible(false);\n  };\n\n  const handleChange = (e) => {\n    setSearchValue(e.target.value);\n    if (!visible) {\n      setVisible(true);\n    }\n  };\n\n  const handleSelectItem = (item) => {\n    setSearchValue(item.value);\n    setSelectedItem(item.id);\n    setVisible(false);\n    selectItem(item.value);\n    setSearchValue(\"\");\n  };\n\n  const selectChange = (e) => {\n    console.log(e.target.value);\n  };\n  return (\n    <div\n      className={`wrapper-input ${visible ? \"active\" : \"\"}  no-border p-0`}\n      onClick={() => setVisible(!visible)}\n    >\n      <input\n        className=\"form-control\"\n        type=\"text\"\n        placeholder={placeholder}\n        value={searchValue}\n        onChange={handleChange}\n        onKeyDown={(e) => {\n          if (e.key === \"Enter\") {\n            handleSelectItem({ value: e.target.value, id: e.target.value });\n          }\n        }}\n        // onKeyPress={(e)=> e.iey === 'Enter' && handleSelectItem}\n      />\n      <div ref={dropdownRef} className={`dropdown ${visible ? \"v\" : \"\"}`}>\n        {visible && (\n          <div className=\"dropdown\">\n            <ul className=\"dropdown-inner\">\n              {!items && (\n                <li key=\"zxc\" className=\"dropdown_item\">\n                  no result\n                </li>\n              )}\n              {/* you can remove the searchFilter if you get results from Filtered API like Google search */}\n              {items &&\n                searchFilter(searchValue, items).map((item) => (\n                  <li\n                    key={item.id}\n                    onClick={() => handleSelectItem(item)}\n                    className=\"dropdown_item\"\n                  >\n                    <a>\n                      {item.icon && (\n                        <i className={`${item.icon} icon-large`}></i>\n                      )}\n                      {item.text}\n                    </a>\n                  </li>\n                ))}\n            </ul>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default DropdownItems;\n"]},"metadata":{},"sourceType":"module"}